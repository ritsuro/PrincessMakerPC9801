; "PICTUER.ASM" PC_9801UV11 make by R.H 1990/05/28
;
;	uŽqˆç‚Äv
;
;	ŠG‚Ì•\Ž¦
;
;	ƒtƒŒ[ƒ€ŠÖŒW
;
;PUBLIC	PT_FREAM		; ƒƒCƒ“ƒtƒŒ[ƒ€
;PUBLIC	PT_FREAM_LEFT		; ƒƒCƒ“ƒtƒŒ[ƒ€¶
;PUBLIC	PT_FREAM_BATL		; ƒoƒgƒ‹ƒtƒŒ[ƒ€
;PUBLIC	PT_FREAM_BUGEI		; •Œ|ƒtƒŒ[ƒ€
;PUBLIC	PT_FREAM_MISCON		; ƒ~ƒXƒRƒ“ƒtƒŒ[ƒ€
;PUBLIC	PT_FREAM_BT_HYO		; •“¬‰ï‘Îí•\ƒtƒŒ[ƒ€
;
;	ƒoƒ“ƒN
;
;PUBLIC	PT_BANK29_LOAD		; ƒoƒ“ƒN”‚Q‚©‚ç”‚X‚Ü‚Åƒ[ƒh
;
;	ƒoƒ“ƒN”‚Q
;
;PUBLIC	PT_LD_BTN		; ƒ{ƒ^ƒ“‚k‚n‚`‚c
;PUBLIC	PT_PUT_BTN_WK		; ƒ{ƒ^ƒ“˜g/‚o‚t‚s
;PUBLIC	PT_PUT_BTN_ON		; ƒ{ƒ^ƒ“‚n‚m/‚o‚t‚s
;PUBLIC	PT_PUT_BTN_OFF		; ƒ{ƒ^ƒ“‚n‚e‚e/‚o‚t‚s
;PUBLIC	PT_PUT_SBI_WK		; ‘•”õ˜g/‚o‚t‚s
;PUBLIC	PT_PUT_SBI_FT		; ‘•”õŠW/‚o‚t‚s
;
;	ƒoƒ“ƒN”‚R
;
;PUBLIC	PT_LD_KAZARI		; ü‚è‚k‚n‚`‚c
;PUBLIC	PT_K11			; ‰ü‚è‚P
;PUBLIC	PT_K12			; ‰ü‚è‚Q
;PUBLIC	PT_K13			; ‰ü‚è‚R
;PUBLIC	PT_K14			; ‰ü‚è‚S
;PUBLIC	PT_KA1			; ‰ü‚è‚`‚P
;PUBLIC	PT_KA2			; ‰ü‚è‚`‚Q
;PUBLIC	PT_KA3			; ‰ü‚è‚`‚R
;PUBLIC	PT_KA4			; ‰ü‚è‚`‚S
;PUBLIC	PT_KS1			; ƒvƒ`ƒ{ƒ^ƒ“‚r‚P
;PUBLIC	PT_KS2			; ƒvƒ`ƒ{ƒ^ƒ“‚r‚Q
;
;	ƒoƒ“ƒN”‚S
;
;PUBLIC	PT_LD_CLEND		; ƒJƒŒƒ“ƒ_‚k‚n‚`‚c
;PUBLIC	PT_PUT_CLEND		; ƒJƒŒƒ“ƒ_‚o‚t‚s
;PUBLIC	PT_PUT_PROPR		; ƒvƒƒ|‚o‚t‚s
;PUBLIC	PT_PUT_PROP2		; ƒvƒƒ|‚‘¬‚o‚t‚s
;PUBLIC	PT_PUT_GRAPH		; ƒOƒ‰ƒt‚o‚t‚s
;PUBLIC	PT_PUT_VALUE		; ”’l•\Ž¦‚o‚t‚s
;PUBLIC	PT_PUT_VALBALANCE	; ”’lƒoƒ‰ƒ“ƒX•\Ž¦‚o‚t‚s
;PUBLIC	PT_PUT_MONTH		; ‚‚‚Ž‚”‚ˆ@‚o‚t‚s
;PUBLIC	PT_PUT_WEEK		; ‚—‚…‚…‚‹@‚o‚t‚s
;PUBLIC	PT_PUT_DAYS		; ‚„‚‚™‚“@‚o‚t‚s
;
;	ƒoƒ“ƒN”‚T
;
;PUBLIC	PT_PALET_LD		; ƒpƒŒƒbƒg‚Ìƒ[ƒh
;PUBLIC	PT_PALET_ST		; ƒpƒŒƒbƒg‚ÌƒZƒbƒg
;PUBLIC	PT_PALET_PLD		; ƒpƒŒƒbƒg‚Ìƒe[ƒuƒ‹‚Ì‚ÝƒZƒbƒg
;PUBLIC	PT_PALET_PLDP		; ƒpƒŒƒbƒg‚Ìƒe[ƒuƒ‹‚Ì‚ÝƒZƒbƒgiƒe[ƒuƒ‹Žw’èj
;PUBLIC	PT_PALET_S_GM		; ƒpƒŒƒbƒg‚ÌƒZƒbƒgEƒQ[ƒ€–Ê
;
;	ƒoƒ“ƒN”‚U
;
;PUBLIC	PT_LD_SHOCK		; ƒVƒ‡ƒbƒN‚k‚n‚`‚c
;PUBLIC	PT_PUT_SHOCK		; ƒVƒ‡ƒbƒN‚o‚t‚s
;
;	ƒoƒ“ƒN”‚V
;
;PUBLIC	PT_LD_ITEM		; ƒAƒCƒeƒ€‚k‚n‚`‚c
;PUBLIC	PT_PUT_ITEM		; ƒAƒCƒeƒ€‚o‚t‚s
;
;	ƒoƒ“ƒN”‚W
;
;PUBLIC	PT_LD_SEIZA		; ¯À‚k‚n‚`‚c
;PUBLIC	PT_PUT_SEIZA		; ¯À‚o‚t‚s
;PUBLIC	PT_PUT_BLOOD		; ŒŒ‰tŒ^‚o‚t‚s
;
;	ƒoƒ“ƒN”‚P‚O
;
;PUBLIC	PT_LD_MYGIRL_FACE	; –ºƒtƒFƒCƒX‚k‚n‚`‚c
;PUBLIC	PT_PUT_MYGIRL_FACE	; –ºƒtƒFƒCƒX‚o‚t‚s
;
;	ŽûŠnÕŠÖŒW
;
;PUBLIC	PT_SYUKAK_LD		; ŽûŠnÕƒpƒ^[ƒ“ƒ[ƒh
;PUBLIC	PT_SYUKAK_PUT		; ŽûŠnÕƒpƒ^[ƒ“‚o‚t‚s
;PUBLIC	PT_SYUKAK_MPT		; ŽûŠnÕƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s
;
;	ƒLƒƒƒ‰ƒNƒ^
;
;PUBLIC	PT_CHR_BASE		; ƒLƒƒƒ‰ƒNƒ^Eƒx[ƒX
;PUBLIC	PT_CHR_DRESS		; •ž•Ï‰»i‚SƒV[ƒYƒ“j
;PUBLIC	PT_CHR_FACE		; Šç•Ï‰»
;
;	‚a‚fi”wŒij
;
;PUBLIC	PT_CHR_BG_MAIN		; ƒƒCƒ“‚a‚f|‚o‚t‚s
;PUBLIC	PT_CHR_BG_BATLE		; ƒoƒgƒ‹‚a‚f|‚o‚t‚s
;
;	‘ŠŽèŠÖŒW
;
;PUBLIC	PT_TOHSHI		; “¬Žm‚o‚t‚s
;PUBLIC	PT_SHIHAN		; Žt”Í‚o‚t‚s
;PUBLIC	PT_MNSTER		; ƒ‚ƒ“ƒXƒ^[‚o‚t‚s
;PUBLIC	PT_MISSCON		; ƒ~ƒXƒRƒ“‚o‚t‚s
;PUBLIC	PT_MISSCON_LD		; ƒ~ƒXƒRƒ“‚k‚n‚`‚c ‚n‚m‚k‚x
;PUBLIC	PT_MISSCON_PUT		; ƒ~ƒXƒRƒ“‚o‚t‚s ‚n‚m‚k‚x
;PUBLIC	PT_FACE			; ƒtƒFƒCƒX‚o‚t‚s
;
;	•Œ|‚a‚f|‚o‚t‚s
;
;PUBLIC	PT_CHR_BG_BUGEI		; •Œ|‚a‚f|‚o‚t‚s
;
;	•“¬‰ï‚a‚f|‚o‚t‚s
;
;PUBLIC	PT_BUTOH_ALL_LOAD	; •“¬‰ïŠÖŒW‘Sƒ[ƒh
;PUBLIC	PT_CHR_BG_BUTOH		; •“¬‰ï‚a‚f|‚o‚t‚s
;PUBLIC	PT_FREAM_BUTOH		; •“¬‰ïƒtƒŒ[ƒ€
;
;	•ŽÒCs‚a‚f|‚o‚t‚s
;
;PUBLIC	PT_MUSYA_ALL_LOAD	; •ŽÒCsŠÖŒW‘Sƒ[ƒh
;PUBLIC	PT_FREAM_MUSYA		; •ŽÒCsƒtƒŒ[ƒ€
;**PUBLIC PT_CHR_BG_MUSYA_LD	; •ŽÒCs‚a‚f|ƒ[ƒh
;**PUBLIC PT_CHR_BG_MUSYA_PT	; •ŽÒCs‚a‚f|‚o‚t‚s
;
;	ƒCƒxƒ“ƒgŠÖŒW
;
;PUBLIC	PT_MACHINOUWASA		; ’¬‚Ì•]”»
;PUBLIC	PT_EVENT_VIEW		; ƒCƒxƒ“ƒgƒrƒ…[
;PUBLIC	PT_EVENT_VWWK		; s‚¢ƒCƒxƒ“ƒgƒrƒ…[
;
;	—Ž‚¿ŠÖŒW
;
;PUBLIC	PT_OCHI_LD		; ƒIƒ`‚ÌŠGƒ[ƒh
;PUBLIC	PT_OCHI_PUT		; ƒIƒ`‚ÌŠG‚o‚t‚s
;
;	ƒoƒJƒ“ƒXŠÖŒW
;
;PUBLIC	PT_BACA_LD		; ƒoƒJƒ“ƒX‚ÌŠGƒ[ƒh
;PUBLIC	PT_BACA_PUT		; ƒoƒJƒ“ƒX‚ÌŠG‚o‚t‚s
;
;	ƒ}ƒEƒX‚Ì‘Þ”ð
;
;PUBLIC	MS_STOP			; ƒ}ƒEƒXƒJ[ƒ\ƒ‹‘Þ”ð
;PUBLIC	MS_STOP_S		; ƒ}ƒEƒXƒJ[ƒ\ƒ‹‘Þ”ði‹­§‚n‚e‚ej
;PUBLIC	MS_START		; ƒ}ƒEƒXƒJ[ƒ\ƒ‹•œ‹A
;
;
; (C) 1990 ritsurou hashimoto.

INCLUDE	TSTSET.INC

; ****************************************************
;	‚b‚n‚c‚d@‚©‚ç@‚qQ‚r‚d‚f‚Q@‚ðŽQÆ‚·‚éƒ‹[ƒ`ƒ“
; ****************************************************

FUNC	MACRO	SUBLL,SUB

CODE	SEGMENT	PUBLIC	'CODE'
	ASSUME	CS:CODE,DS:DATA
	PUBLIC	SUB
SUB	PROC	NEAR
	CALL	FAR PTR SUBLL
	RET
SUB	ENDP
CODE	ENDS
	ASSUME	CS:R_SEG2,DS:DATA
SUBLL	PROC	FAR
	ENDM

; ****************************************************
;	‚b‚n‚c‚d@‚©‚ç@‚qQ‚r‚d‚f‚Q@‚ðŽQÆ‚·‚éƒ‹[ƒ`ƒ“‚ÌI‚è
; ****************************************************

FEND	MACRO	SUBLL

SUBLL	ENDP
	ENDM

; ****************************************************
;	‚qQ‚r‚d‚f‚QƒZƒOƒƒ“ƒg‚©‚ç‚b‚n‚c‚dƒZƒOƒƒ“ƒg‚Ö
; ****************************************************

CODE_IN		MACRO
	LOCAL	L1
	JMP	FAR PTR L1
CODE	SEGMENT	PUBLIC	'CODE'
	ASSUME	CS:CODE,DS:DATA
L1:
	ENDM

; ****************************************************
;	‚b‚n‚c‚dƒZƒOƒƒ“ƒg‚©‚ç‚qQ‚r‚d‚f‚QƒZƒOƒƒ“ƒg‚Ö
; ****************************************************

CODE_OUT	MACRO
	LOCAL	L1
	JMP	FAR PTR L1
CODE	ENDS
	ASSUME	CS:R_SEG2,DS:DATA
L1:
	ENDM

; ****************************************************
;	‚qQ‚r‚d‚f‚Q@‚©‚ç@‚b‚n‚c‚d@‚Ö@‚b‚`‚k‚k
; ****************************************************

CALLC	MACRO	SUB1
	LOCAL	L2
CODE	SEGMENT	PUBLIC	'CODE'
	ASSUME	CS:CODE,DS:DATA
L2	PROC	FAR
	EXTRN	SUB1:NEAR
	CALL	SUB1
	RET
L2	ENDP
CODE	ENDS
	ASSUME	CS:R_SEG2,DS:DATA
	CALL	L2	
	ENDM

; ****************************************************
;	‚e‚h‚k‚dQ‚b‚`‚k‚k	ƒƒtƒ@ƒCƒ‹–¼„
;	ƒtƒ@ƒCƒ‹–¼‚ðƒR[ƒ‹‚·‚ê‚Îƒ[ƒh‚·‚é‚æ
; ****************************************************

FILE_CALL	MACRO	FNAME
	LOCAL	L1
DATA	SEGMENT	WORD PUBLIC	'DATA'
L1	DB	"&FNAME",0
DATA	ENDS
FNAME	PROC	NEAR
	MOV	SI,OFFSET L1
	CALL	RSEG_PATLDA
	RET
FNAME	ENDP
	ENDM

CODE	SEGMENT	PUBLIC	'CODE'
	ASSUME	CS:CODE,DS:DATA
FAR_PATLDA	PROC	FAR
	EXTRN	PATLDA:NEAR
	CALL	PATLDA		; ƒp[ƒc’Ç‰Áƒ[ƒh
	RET
FAR_PATLDA	ENDP
FAR_PATBNK	PROC	FAR
	EXTRN	PATBNK:NEAR
	CALL	PATBNK			; ƒoƒ“ƒNƒ`ƒFƒ“ƒW
	RET
FAR_PATBNK	ENDP
CODE	ENDS
R_SEG2	SEGMENT	PUBLIC	'R_SEG2'
	ASSUME	CS:R_SEG2,DS:DATA
RSEG_PATLDA	PROC	NEAR
	CALL	FAR_PATLDA
	RET
RSEG_PATLDA	ENDP
RSEG_PATBNK	PROC	NEAR
	CALL	FAR_PATBNK
	RET
RSEG_PATBNK	ENDP
R_SEG2	ENDS

; ****************************************************
;	‚o‚`‚sQ‚a‚`‚m‚j	ƒƒoƒ“ƒN”Ô†„
;	ƒp[ƒcƒoƒ“ƒNØ‚è‘Ö‚¦
; ****************************************************

PAT_BANK	MACRO	NUM
	PUSH	DX
	MOV	DX,NUM			; ƒoƒ“ƒN”Ô†i‚O[‚Pj
	CALL	RSEG_PATBNK
	POP	DX
	ENDM

; ****************************************************
;	‚o‚k‚r‚l‚c	ƒˆ³kƒ‚[ƒh„
;	ˆ³kƒ‚[ƒhØ‚è‘Ö‚¦(0:’Êí,1:c•ûŒü)
; ****************************************************

PLSMD	MACRO	MODES
	LOCAL	L2
CODE	SEGMENT	PUBLIC	'CODE'
	ASSUME	CS:CODE,DS:DATA
L2	PROC	FAR
	PUSH	DX
	MOV	DX,MODES	; ˆ³kƒ‚[ƒh(0:’Êí,1:c•ûŒü)
	EXTRN	PLSMOD:NEAR
	CALL	PLSMOD		; ˆ³kƒ‚[ƒhØ‚è‘Ö‚¦
	POP	DX
	RET
L2	ENDP
CODE	ENDS
	ASSUME	CS:R_SEG2,DS:DATA
	CALL	L2
	ENDM

; ****************************************************
;	‚o‚`‚k‚d‚sQ‚k‚n‚`‚c	ƒƒpƒŒƒbƒgƒe[ƒuƒ‹”Ô†„Cƒƒp[ƒc”Ô†„
;	ƒpƒŒƒbƒgƒ[ƒh
; ****************************************************

PALET_LOAD	MACRO	TBL,NUM
	LOCAL	L2
	MOV	CX,NUM		; ƒp[ƒc”Ô†
	MOV	BX,TBL		; ƒpƒŒƒbƒgƒe[ƒuƒ‹”Ô†
CODE	SEGMENT	PUBLIC	'CODE'
	ASSUME	CS:CODE,DS:DATA
L2	PROC	FAR
	EXTRN	PLTPAT:NEAR
	CALL	PLTPAT		; ƒp[ƒcƒoƒbƒtƒ@‚©‚çƒpƒŒƒbƒg‚ðŽæ‚èo‚·
	RET
L2	ENDP
CODE	ENDS
	ASSUME	CS:R_SEG2,DS:DATA
	CALL	L2
	ENDM

; ****************************************************
;	‚o‚`‚k‚d‚sQ‚r‚d‚s	ƒƒp[ƒc”Ô†„
;	ƒpƒŒƒbƒgƒZƒbƒg
; ****************************************************

PALET_SET	MACRO	NUM
	LOCAL	L2
CODE	SEGMENT	PUBLIC	'CODE'
	ASSUME	CS:CODE,DS:DATA
L2	PROC	FAR
	MOV	CX,NUM		; ƒp[ƒc”Ô†
	MOV	BX,0		; ƒpƒŒƒbƒgƒe[ƒuƒ‹”Ô†
	EXTRN	PLTPAT:NEAR
	CALL	PLTPAT		; ƒp[ƒcƒoƒbƒtƒ@‚©‚çƒpƒŒƒbƒg‚ðŽæ‚èo‚·
	MOV	BX,0		; ƒpƒŒƒbƒgƒe[ƒuƒ‹”Ô†
	EXTRN	PLSET:NEAR
	CALL	PLSET		; ƒpƒŒƒbƒgƒZƒbƒg
	RET
L2	ENDP
CODE	ENDS
	ASSUME	CS:R_SEG2,DS:DATA
	CALL	L2
	ENDM


; ****************************************************
;	‚o‚`‚sQ‚o‚t‚s		ƒƒp[ƒc”Ô†„C‚wC‚x
;	ƒp[ƒc‚o‚t‚s
; ****************************************************

PAT_PUT		MACRO	NUM,XX,YY
	LOCAL	L2
CODE	SEGMENT	PUBLIC	'CODE'
	ASSUME	CS:CODE,DS:DATA
L2	PROC	FAR
	MOV	AX,XX		;
	MOV	VRX,AX		; ‚o‚t‚s‚w
	MOV	AX,YY		;
	MOV	VRY,AX		; ‚o‚t‚s‚x
	MOV	CX,NUM		; ƒp[ƒc”Ô†
	EXTRN	PATPTF:NEAR
	CALL	PATPTF		; ƒp[ƒc‚o‚t‚sƒIƒtƒZƒbƒgŽw’è
	RET
L2	ENDP
CODE	ENDS
	ASSUME	CS:R_SEG2,DS:DATA
	CALL	L2
	ENDM


; ****************************************************
;	‚o‚`‚sQ‚o‚s‚w		ƒƒp[ƒc”Ô†„C‚wC‚x
;	ƒp[ƒc‚o‚t‚s^ƒp[ƒc‚o‚t‚sÀ•WŽw’è
; ****************************************************

PAT_PTX		MACRO	NUM,XX,YY
	LOCAL	L2
CODE	SEGMENT	PUBLIC	'CODE'
	ASSUME	CS:CODE,DS:DATA
L2	PROC	FAR
	MOV	AX,XX		;
	MOV	VRX,AX		; ‚o‚t‚s‚w
	MOV	AX,YY		;
	MOV	VRY,AX		; ‚o‚t‚s‚x
	MOV	CX,NUM		; ƒp[ƒc”Ô†
	EXTRN	PATPTX:NEAR
	CALL	PATPTX		; ƒp[ƒc‚o‚t‚sÀ•WŽw’è
	RET
L2	ENDP
CODE	ENDS
	ASSUME	CS:R_SEG2,DS:DATA
	CALL	L2
	ENDM


JMPEQ	MACRO	LBL
	LOCAL	L1
	JNE	L1
	JMP	LBL
L1:
	ENDM

MOVX	MACRO	DEST,SOUR
	MOV	AX,SOUR
	MOV	DEST,AX
	ENDM

MOVXB	MACRO	DEST,SOUR
	MOV	AL,SOUR
	MOV	DEST,AL
	ENDM

ADDX	MACRO	DEST,SOUR
	MOV	AX,SOUR
	ADD	DEST,AX
	ENDM


;	‚`‚q‚`‚b‚g‚j	ƒ‚wmin„Cƒ‚xmin„C
;				ƒ‚wmax„Cƒ‚xmax„Cƒ“–‚½‚èƒ‰ƒxƒ‹„
;	“ü—Í	‚`‚wF‚wÀ•W@C‚a‚wF‚xÀ•W

ARACHK	MACRO	X1,Y1,X2,Y2,LBL
	LOCAL	L1
	CMP	AX,X1
	JB	L1
	CMP	AX,X2
	JNBE	L1
	CMP	BX,Y1
	JB	L1
	CMP	BX,Y2
	JNBE	L1
	JMP	LBL
L1:
	ENDM


;	‚`‚q‚`‚b‚g‚j‚Q	ƒ‚w„Cƒ‚x„Cƒ“–‚½‚èƒ‰ƒxƒ‹„
;	“ü—Í	‚`‚wF‚wminC‚a‚wF‚xminC‚b‚wF‚wmaxC‚c‚wF‚xmax

ARACHK2	MACRO	XX,YY,LBL
	LOCAL	L1
	CMP	XX,AX
	JB	L1
	CMP	XX,CX
	JNBE	L1
	CMP	YY,BX
	JB	L1
	CMP	YY,DX
	JNBE	L1
	JMP	LBL
L1:
	ENDM

; ***********************************************
;	ƒp[ƒcƒtƒ@ƒCƒ‹ƒ[ƒh
; ***********************************************

R_SEG2	SEGMENT	PUBLIC	'R_SEG2'
	ASSUME	CS:R_SEG2,DS:DATA

FILE_CALL	FREAMU1			; ’ÊíƒtƒŒ[ƒ€E¶‘¤
FILE_CALL	FREAMU2			; ’ÊíƒtƒŒ[ƒ€E^’†
FILE_CALL	FREAMD			; ’ÊíƒtƒŒ[ƒ€E‰E‘¤
FILE_CALL	FREAMB1			; ƒoƒgƒ‹ƒtƒŒ[ƒ€E¶‘¤
FILE_CALL	FREAMB2			; ƒoƒgƒ‹ƒtƒŒ[ƒ€E^’†
FILE_CALL	FREAMB3			; ƒoƒgƒ‹ƒtƒŒ[ƒ€E‰E‘¤
FILE_CALL	FREAMC1			; ƒRƒ“ƒeƒXƒgƒtƒŒ[ƒ€‚P
FILE_CALL	FREAMC2			; ƒRƒ“ƒeƒXƒgƒtƒŒ[ƒ€‚Q
FILE_CALL	FREAMBT1		; ‘Îí•\ƒtƒŒ[ƒ€‚P
FILE_CALL	FREAMBT2		; ‘Îí•\ƒtƒŒ[ƒ€‚Q
FILE_CALL	FREAMM1			; •ŽÒCsƒtƒŒ[ƒ€E¶‘¤
FILE_CALL	FREAMM2			; •ŽÒCsƒtƒŒ[ƒ€E^’†
FILE_CALL	FREAMM3			; •ŽÒCsƒtƒŒ[ƒ€E‰E‘¤

FILE_CALL	PALET			; ƒpƒŒƒbƒgƒf[ƒ^
FILE_CALL	BTN			; ƒ{ƒ^ƒ“
FILE_CALL	BTNWK			; ƒ{ƒ^ƒ“˜g
FILE_CALL	BTNSCD			; ƒXƒPƒWƒ…[ƒ‹ƒ{ƒ^ƒ“
FILE_CALL	BTNSCW			; ƒXƒPƒWƒ…[ƒ‹ƒ{ƒ^ƒ“˜g
FILE_CALL	KAZARI			; ü‚èƒZƒbƒg
FILE_CALL	CLEND			; ƒJƒŒƒ“ƒ_
FILE_CALL	PROPR			; ƒvƒƒ|[ƒVƒ‡ƒ“
FILE_CALL	PROP2			; ƒvƒƒ|[ƒVƒ‡ƒ“i‰¡ˆ³kj
FILE_CALL	GRAPH			; ƒOƒ‰ƒt
FILE_CALL	VALUE			; ”’l•\Ž¦
FILE_CALL	PAT6			; ƒVƒ‡ƒbƒN
FILE_CALL	PAT7			; ƒAƒCƒeƒ€
FILE_CALL	PAT7WK			; ŽdŽ–ƒAƒCƒeƒ€
FILE_CALL	PAT8			; ¯À
FILE_CALL	BLOOD			; ŒŒ‰tŒ^
FILE_CALL	MONTH    		; ŒŽ
FILE_CALL	WEEK     		; T
FILE_CALL	BIGNUM   		; ‘å‚«‚¢”Žš

FILE_CALL	CB1			; ƒLƒƒƒ‰ƒNƒ^ƒx[ƒX‚P
FILE_CALL	CB2			; ƒLƒƒƒ‰ƒNƒ^ƒx[ƒX‚Q
FILE_CALL	CB3			; ƒLƒƒƒ‰ƒNƒ^ƒx[ƒX‚R
FILE_CALL	CB4			; ƒLƒƒƒ‰ƒNƒ^ƒx[ƒX‚S
FILE_CALL	CB1D1			; •ž‚PEt
FILE_CALL	CB1D2			; •ž‚PE‰Ä
FILE_CALL	CB1D3			; •ž‚PEH
FILE_CALL	CB1D4			; •ž‚PE“~
FILE_CALL	CB2D1			; •ž‚QEt
FILE_CALL	CB2D2			; •ž‚QE‰Ä
FILE_CALL	CB2D3			; •ž‚QEH
FILE_CALL	CB2D4			; •ž‚QE“~
FILE_CALL	CB3D1			; •ž‚REt
FILE_CALL	CB3D2			; •ž‚RE‰Ä
FILE_CALL	CB3D3			; •ž‚REH
FILE_CALL	CB3D4			; •ž‚RE“~
FILE_CALL	CB4D1			; •ž‚SEt
FILE_CALL	CB4D2			; •ž‚SE‰Ä
FILE_CALL	CB4D3			; •ž‚SEH
FILE_CALL	CB4D4			; •ž‚SE“~
FILE_CALL	CB1F1			; Šç‚P|‚P
FILE_CALL	CB1F2			; Šç‚P|‚Q
FILE_CALL	CB1F3			; Šç‚P|‚R
FILE_CALL	CB2F1			; Šç‚Q|‚P
FILE_CALL	CB2F2			; Šç‚Q|‚Q
FILE_CALL	CB2F3			; Šç‚Q|‚R
FILE_CALL	CB3F1			; Šç‚R|‚P
FILE_CALL	CB3F2			; Šç‚R|‚Q
FILE_CALL	CB3F3			; Šç‚R|‚R
FILE_CALL	CB4F1			; Šç‚S|‚P
FILE_CALL	CB4F2			; Šç‚S|‚Q
FILE_CALL	CB4F3			; Šç‚S|‚R

FILE_CALL	I4_01			; ‰¤—l‚Æ‚Ì‰ïŒ©
FILE_CALL	I4_02			; ’¬‚Ì•]”»
FILE_CALL	I4_03			; ƒXƒe[ƒ^ƒXŠm”F
FILE_CALL	I4_04			; –º‚Æ˜b‚·
FILE_CALL	I4_05			; ”ƒ•¨

; ***********************************************
;	ƒtƒŒ[ƒ€ŠÖŒW
; ***********************************************

;	ƒƒCƒ“ƒtƒŒ[ƒ€

FUNC	PPT_FREAM,PT_FREAM
	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD	1

	CALL	FAR PTR PPT_FREAM_LEFT	; ƒƒCƒ“ƒtƒŒ[ƒ€¶

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMD			; ’ÊíƒtƒŒ[ƒ€E‰E
	MOV	XX1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚wÀ•W
	MOV	YY1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚xÀ•W
	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	RET
FEND	PPT_FREAM

;	ƒƒCƒ“ƒtƒŒ[ƒ€¶

FUNC	PPT_FREAM_LEFT,PT_FREAM_LEFT
	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD	1

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMU1			; ’ÊíƒtƒŒ[ƒ€E¶‘¤
	MOV	XX1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚wÀ•W
	MOV	YY1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚xÀ•W
	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMU2			; ’ÊíƒtƒŒ[ƒ€E^’†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s

	RET
FEND	PPT_FREAM_LEFT


;	ƒoƒgƒ‹ƒtƒŒ[ƒ€

FUNC	PPT_FREAM_BATL,PT_FREAM_BATL
	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD	1

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMB1			; ƒoƒgƒ‹ƒtƒŒ[ƒ€E¶‘¤
	MOV	XX1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚wÀ•W
	MOV	YY1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚xÀ•W
	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMB2			; ƒoƒgƒ‹ƒtƒŒ[ƒ€E^’†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMB3			; ƒoƒgƒ‹ƒtƒŒ[ƒ€E‰E‘¤
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	RET
FEND	PPT_FREAM_BATL


;	•Œ|ƒtƒŒ[ƒ€

FUNC	PPT_FREAM_BUGEI,PT_FREAM_BUGEI
	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD	1

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMB1			; ƒoƒgƒ‹ƒtƒŒ[ƒ€E¶‘¤
	MOV	XX1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚wÀ•W
	MOV	YY1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚xÀ•W
	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMB2			; ƒoƒgƒ‹ƒtƒŒ[ƒ€E^’†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s

	RET
FEND	PPT_FREAM_BUGEI


;	ƒ~ƒXƒRƒ“ƒtƒŒ[ƒ€

FUNC	PPT_FREAM_MISCON,PT_FREAM_MISCON
	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD	1

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMC1			; ƒRƒ“ƒeƒXƒgƒtƒŒ[ƒ€‚P
	MOV	XX1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚wÀ•W
	MOV	YY1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚xÀ•W
	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMC2			; ƒRƒ“ƒeƒXƒgƒtƒŒ[ƒ€‚Q
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	RET
FEND	PPT_FREAM_MISCON


;	•“¬‰ï‘Îí•\ƒtƒŒ[ƒ€

FUNC	PPT_FREAM_BT_HYO,PT_FREAM_BT_HYO
	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD	1

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMBT1		; ‘Îí•\ƒtƒŒ[ƒ€‚P
	MOV	XX1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚wÀ•W
	MOV	YY1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚xÀ•W
	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMBT2		; ‘Îí•\ƒtƒŒ[ƒ€‚Q
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	RET
FEND	PPT_FREAM_BT_HYO


; ***********************************************
;	ƒoƒ“ƒN
; ***********************************************

;	ƒoƒ“ƒN”‚Q‚©‚ç”‚X‚Ü‚Åƒ[ƒh

FUNC	PPT_BANK29_LOAD,PT_BANK29_LOAD
	CALL	FAR PTR PPT_LD_BTN	; ƒ{ƒ^ƒ“‚k‚n‚`‚c^ƒoƒ“ƒN”‚Q
	CALL	FAR PTR PPT_LD_KAZARI	; ü‚è‚k‚n‚`‚c^ƒoƒ“ƒN”‚R
	CALL	FAR PTR PPT_LD_CLEND	; ƒJƒŒƒ“ƒ_‚k‚n‚`‚c^ƒoƒ“ƒN”‚S
	CALL	FAR PTR PPT_PALET_LD	; ƒpƒŒƒbƒg‚Ìƒ[ƒh^ƒoƒ“ƒN”‚T
	CALL	FAR PTR PPT_LD_SHOCK	; ƒVƒ‡ƒbƒN‚k‚n‚`‚c^ƒoƒ“ƒN”‚U
	CALL	FAR PTR PPT_LD_ITEM	; ƒAƒCƒeƒ€‚k‚n‚`‚c^ƒoƒ“ƒN”‚V
	CALL	FAR PTR PPT_LD_SEIZA	; ¯À‚k‚n‚`‚c^ƒoƒ“ƒN”‚W
	RET
FEND	PPT_BANK29_LOAD



; ***********************************************
;	ƒoƒ“ƒN”‚Q
;	ƒ{ƒ^ƒ“
; ***********************************************

;	ƒ{ƒ^ƒ“‚k‚n‚`‚c

FUNC	PPT_LD_BTN,PT_LD_BTN
;*;	PRF	"LOAD #2"
	PAT_BANK	2		; ‚Qƒ{ƒ^ƒ“
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	BTN			; ƒ{ƒ^ƒ“	;BTN.PT1     8002
	CALL	BTNSCD			; ƒXƒPƒWƒ…[ƒ‹	;BTNSCD.PT1  1192
	RET				;			     9194
FEND	PPT_LD_BTN


;	ƒ{ƒ^ƒ“˜g/‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_PUT_BTN_WK,PT_PUT_BTN_WK
	PUSH	AX
	PUSH	BX
	PLSMD	1
	PAT_BANK	0	; ‚a‚`‚m‚j”‚O
	CALL	FILE_INIT	; ƒ[ƒh‰Šú‰»
	CALL	BTNWK		; ƒ{ƒ^ƒ“˜g
	POP	BX
	POP	AX

	MOV	XX1,AX		; ƒIƒtƒZƒbƒg‚wÀ•W
	MOV	YY1,BX		; ƒIƒtƒZƒbƒg‚xÀ•W
	ADD	YY1,3		; {‚R
	ADD	YY1,40		; ƒIƒtƒZƒbƒg‚xÀ•W
	MOV	NUM,0		; ƒ{ƒ^ƒ“˜g‚Ìƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s
	RET
FEND	PPT_PUT_BTN_WK


;	ƒ{ƒ^ƒ“‚n‚m/‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    CX : ƒ{ƒ^ƒ“”Ô†i‚O|‚Tj

FUNC	PPT_PUT_BTN_ON,PT_PUT_BTN_ON
	CMP	CX,5		; ƒ{ƒ^ƒ“”Ô†i‚O|‚Tj
	JG	PT_PUT_BTN_ON_EXIT

	ADD	CX,6		; ‚n‚mƒ{ƒ^ƒ“

	PLSMD	0		;
	PAT_BANK	2	; ‚Qƒ{ƒ^ƒ“

	MOV	VRX,AX		; ‚o‚t‚s‚w
	MOV	VRY,BX		; ‚o‚t‚s‚x
	CALL	MOUSE_STOP	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹‘Þ”ð
	CALLC	PATPTX		; ƒp[ƒc‚o‚t‚sÀ•WŽw’è
	CALL	MOUSE_START	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹•œ‹A
PT_PUT_BTN_ON_EXIT:
	RET
FEND	PPT_PUT_BTN_ON



;	ƒ{ƒ^ƒ“‚n‚e‚e/‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    CX : ƒ{ƒ^ƒ“”Ô†i‚O|‚Tj

FUNC	PPT_PUT_BTN_OFF,PT_PUT_BTN_OFF
	CMP	CX,5		; ƒ{ƒ^ƒ“”Ô†i‚O|‚Tj
	JG	PT_PUT_BTN_OFF_EXIT

	PLSMD	0		;
	PAT_BANK	2	; ‚Qƒ{ƒ^ƒ“

	MOV	VRX,AX		; ‚o‚t‚s‚w
	MOV	VRY,BX		; ‚o‚t‚s‚x
	CALL	MOUSE_STOP	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹‘Þ”ð
	CALLC	PATPTX		; ƒp[ƒc‚o‚t‚sÀ•WŽw’è
	CALL	MOUSE_START	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹•œ‹A
PT_PUT_BTN_OFF_EXIT:
	RET
FEND	PPT_PUT_BTN_OFF


;	‘•”õ˜g/‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_PUT_SBI_WK,PT_PUT_SBI_WK
	PUSH	AX
	PUSH	BX
	PLSMD	1
	PAT_BANK	0	; ‚a‚`‚m‚j”‚O
	CALL	FILE_INIT	; ƒ[ƒh‰Šú‰»
	CALL	BTNSCW		; ƒXƒPƒWƒ…[ƒ‹ƒ{ƒ^ƒ“˜g
	POP	BX
	POP	AX

	MOV	XX1,AX		; ƒIƒtƒZƒbƒg‚wÀ•W
	MOV	YY1,BX		; ƒIƒtƒZƒbƒg‚xÀ•W
	ADD	YY1,3		; {‚R
	MOV	NUM,0		;
	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s
	RET
FEND	PPT_PUT_SBI_WK


;	‘•”õŠW/‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    CX : ƒtƒ^”Ô†i‚O|‚Pj

FUNC	PPT_PUT_SBI_FT,PT_PUT_SBI_FT
	CMP	CX,1		; ƒ{ƒ^ƒ“”Ô†i‚O|‚Pj
	JG	PPT_PUT_SBI_FT_EXIT

	ADD	CX,6*2		; ƒtƒ^

	PLSMD	0		;
	PAT_BANK	2	; ‚Qƒ{ƒ^ƒ“

	MOV	VRX,AX		; ‚o‚t‚s‚w
	MOV	VRY,BX		; ‚o‚t‚s‚x
	CALL	MOUSE_STOP	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹‘Þ”ð
	CALLC	PATPTX		; ƒp[ƒc‚o‚t‚sÀ•WŽw’è
	CALL	MOUSE_START	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹•œ‹A
PPT_PUT_SBI_FT_EXIT:
	RET
FEND	PPT_PUT_SBI_FT


; ***********************************************
;	ƒoƒ“ƒN”‚R
;	ƒEƒCƒ“ƒhƒEü‚è
; ***********************************************

;	ü‚è‚k‚n‚`‚c

FUNC	PPT_LD_KAZARI,PT_LD_KAZARI
;*;	PRF	"LOAD #3"
	PAT_BANK	3	; ‚Rü‚è
	CALL	FILE_INIT	; ƒ[ƒh‰Šú‰»
	CALL	KAZARI		; ü‚èƒZƒbƒg
	RET
FEND	PPT_LD_KAZARI


;	‰ü‚è‚P
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_K11,PT_K11
	PUSH	XX1
	PUSH	YY1
	PUSH	NUM

	PAT_BANK	3	; ‚Rü‚è
	PLSMD	0		;

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	MOV	NUM,0		; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s

	POP	NUM
	POP	YY1
	POP	XX1
	RET
FEND	PPT_K11


;	‰ü‚è‚Q
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_K12,PT_K12
	PUSH	XX1
	PUSH	YY1
	PUSH	NUM

	PAT_BANK	3	; ‚Rü‚è
	PLSMD	0		;

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	MOV	NUM,2		; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s

	POP	NUM
	POP	YY1
	POP	XX1
	RET
FEND	PPT_K12


;	‰ü‚è‚R
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_K13,PT_K13
	PUSH	XX1
	PUSH	YY1
	PUSH	NUM

	PAT_BANK	3	; ‚Rü‚è
	PLSMD	0		;

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	MOV	NUM,4		; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s

	POP	NUM
	POP	YY1
	POP	XX1
	RET
FEND	PPT_K13


;	‰ü‚è‚S
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_K14,PT_K14
	PUSH	XX1
	PUSH	YY1
	PUSH	NUM

	PAT_BANK	3	; ‚Rü‚è
	PLSMD	0		;

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	MOV	NUM,6		; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s

	POP	NUM
	POP	YY1
	POP	XX1
	RET
FEND	PPT_K14


;	‰ü‚è‚`‚P
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_KA1,PT_KA1
	PUSH	XX1
	PUSH	YY1
	PUSH	NUM

	PAT_BANK	3	; ‚Rü‚è
	PLSMD	0		;

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	MOV	NUM,4*2		; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s

	POP	NUM
	POP	YY1
	POP	XX1
	RET
FEND	PPT_KA1


;	‰ü‚è‚`‚Q
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_KA2,PT_KA2
	PUSH	XX1
	PUSH	YY1
	PUSH	NUM

	PAT_BANK	3	; ‚Rü‚è
	PLSMD	0		;

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	MOV	NUM,5*2		; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s

	POP	NUM
	POP	YY1
	POP	XX1
	RET
FEND	PPT_KA2


;	‰ü‚è‚`‚R
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_KA3,PT_KA3
	PUSH	XX1
	PUSH	YY1
	PUSH	NUM

	PAT_BANK	3	; ‚Rü‚è
	PLSMD	0		;

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	MOV	NUM,6*2		; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s

	POP	NUM
	POP	YY1
	POP	XX1
	RET
FEND	PPT_KA3


;	‰ü‚è‚`‚S
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_KA4,PT_KA4
	PUSH	XX1
	PUSH	YY1
	PUSH	NUM

	PAT_BANK	3	; ‚Rü‚è
	PLSMD	0		;

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	MOV	NUM,7*2		; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s

	POP	NUM
	POP	YY1
	POP	XX1
	RET
FEND	PPT_KA4


;	ƒvƒ`ƒ{ƒ^ƒ“‚r‚P
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_KS1,PT_KS1
	PUSH	XX1
	PUSH	YY1
	PUSH	NUM

	PAT_BANK	3	; ‚Rü‚è
	PLSMD	0

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	MOV	NUM,16		; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PTX	; ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è

	POP	NUM
	POP	YY1
	POP	XX1
	RET
FEND	PPT_KS1


;	ƒvƒ`ƒ{ƒ^ƒ“‚r‚Q
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_KS2,PT_KS2
	PUSH	XX1
	PUSH	YY1
	PUSH	NUM

	PAT_BANK	3	; ‚Rü‚è
	PLSMD	0

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	MOV	NUM,17		; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PTX	; ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è

	POP	NUM
	POP	YY1
	POP	XX1
	RET
FEND	PPT_KS2


; ***********************************************
;	ƒoƒ“ƒN”‚S
;	ƒJƒŒƒ“ƒ_
; ***********************************************


;	ƒJƒŒƒ“ƒ_‚k‚n‚`‚c

FUNC	PPT_LD_CLEND,PT_LD_CLEND
;*;	PRF	"LOAD #4"
	PAT_BANK	4	; ‚SƒJƒŒƒ“ƒ_
	CALL	FILE_INIT	; ƒ[ƒh‰Šú‰»
	CALL	CLEND		; 0,1 ƒJƒŒƒ“ƒ_iƒ}ƒXƒN‚Pj
	CALL	PROPR		; 2,3 ƒvƒƒ|[ƒVƒ‡ƒ“iƒ}ƒXƒN‚Pj
	CALL	GRAPH		; 4   ƒOƒ‰ƒti‰¡ˆ³kj
	CALL	VALUE		; 5,6 ”’l•\Ž¦
	CALL	PROP2		; 7 ƒvƒƒ|[ƒVƒ‡ƒ“i‰¡ˆ³kj

			;  1  2  3  4  5  6  7  8  9 10 11 12
	CALL	MONTH	;  8/ 9/10/11/12/13/14/15/16/17/18/19 ŒŽ
			;  1  2  3  4  5  6  7
	CALL	WEEK	; 20/21/22/23/24/25/26 T
			;  0  1  2  3  4  5  6  7  8  9
	CALL	BIGNUM	; 27/29/31/33/35/37/39/41/43/45 ‘å‚«‚¢”Žš

	RET
FEND	PPT_LD_CLEND


;	ƒJƒŒƒ“ƒ_‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_PUT_CLEND,PT_PUT_CLEND
	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	PAT_BANK	4	; ‚SƒJƒŒƒ“ƒ_
	PLSMD	1		;

	MOV	NUM,0		; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s
	RET
FEND	PPT_PUT_CLEND


;	ƒvƒƒ|[ƒVƒ‡ƒ“‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_PUT_PROPR,PT_PUT_PROPR
	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	PAT_BANK	4	; ‚SƒJƒŒƒ“ƒ_
	PLSMD	1		;

	MOV	NUM,2		; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s
	RET
FEND	PPT_PUT_PROPR


;	ƒvƒƒ|‚‘¬‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_PUT_PROP2,PT_PUT_PROP2
	ADD	AX,1
	ADD	BX,9	;10
	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	PAT_BANK	4	; ‚SƒJƒŒƒ“ƒ_
	PLSMD	1		;

	MOV	NUM,7		; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PTX	; ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è
	RET
FEND	PPT_PUT_PROP2


;	ƒOƒ‰ƒt‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_PUT_GRAPH,PT_PUT_GRAPH
	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W

	PAT_BANK	4	; ‚SƒJƒŒƒ“ƒ_
	PLSMD	0		;

	MOV	NUM,4		; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PTX	; ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è
	RET
FEND	PPT_PUT_GRAPH


;	”’l•\Ž¦‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_PUT_VALUE,PT_PUT_VALUE
	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W
	PAT_BANK	4	; ‚SƒJƒŒƒ“ƒ_
	PLSMD	0		;
	MOV	NUM,5		; ”’l•\Ž¦‚o‚t‚s
	CALL	PATTAN_PTX	; ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è
	RET
FEND	PPT_PUT_VALUE


;	”’lƒoƒ‰ƒ“ƒX•\Ž¦‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_PUT_VALBALANCE,PT_PUT_VALBALANCE
	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W
	PAT_BANK	4	; ‚SƒJƒŒƒ“ƒ_
	PLSMD	0		;
	MOV	NUM,6		; ”’lƒoƒ‰ƒ“ƒX•\Ž¦‚o‚t‚s
	CALL	PATTAN_PTX	; ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è
	RET
FEND	PPT_PUT_VALBALANCE


;	‚‚‚Ž‚”‚ˆ@‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ‚‚‚Ž‚”‚ˆ

FUNC	PPT_PUT_MONTH,PT_PUT_MONTH
	CMP	DX,1
	JL	PT_PUT_MONTH_EXIT
	CMP	DX,12
	JG	PT_PUT_MONTH_EXIT

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W
	MOV	NUM_MONTH,DX	; ‚‚‚Ž‚”‚ˆ

	PAT_BANK	4	; ‚SƒJƒŒƒ“ƒ_
	PLSMD	1		;

	MOV	AX,NUM_MONTH	; ‚‚‚Ž‚”‚ˆ
	ADD	AX,7		;  8/ 9/10/11/12/13/14/15/16/17/18/19 ŒŽ
	MOV	NUM,AX		; ”’lƒoƒ‰ƒ“ƒX•\Ž¦‚o‚t‚s
	CALL	PATTAN_PTX	; ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è

PT_PUT_MONTH_EXIT:
	RET
FEND	PPT_PUT_MONTH


;	‚—‚…‚…‚‹@‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ‚—‚…‚…‚‹

FUNC	PPT_PUT_WEEK,PT_PUT_WEEK
	CMP	DX,0
	JL	PT_PUT_WEEK_EXIT
	CMP	DX,6
	JG	PT_PUT_WEEK_EXIT

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W
	MOV	NUM_WEEK,DX	; ‚—‚…‚…‚‹

	PAT_BANK	4	; ‚SƒJƒŒƒ“ƒ_
	PLSMD	1		;

	MOV	AX,NUM_WEEK	; ‚—‚…‚…‚‹
	ADD	AX,20		; 20/21/22/23/24/25/26 T
	MOV	NUM,AX		; ”’lƒoƒ‰ƒ“ƒX•\Ž¦‚o‚t‚s
	CALL	PATTAN_PTX	; ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è

PT_PUT_WEEK_EXIT:
	RET
FEND	PPT_PUT_WEEK


;	‚„‚‚™‚“@‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ‚„‚‚™‚“

FUNC	PPT_PUT_DAYS,PT_PUT_DAYS
	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W
	MOV	NUM_DAYS,DX	; ‚„‚‚™‚“

	MOV	VX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	VY1,BX		; ‚o‚t‚s@‚xÀ•W
	ADD	AX,7		;
	ADD	BX,40		;
	MOV	VX2,AX		; end point.
	MOV	VY2,BX		; end point.
	MOV	CX,1111B	; color palet number.
	MOVX	SSEFC0,ARAVRM[0] ; efect data segment.
	MOVX	SSEFC1,ARAVRM[2] ; efect data segment.
	MOVX	SSEFC2,ARAVRM[4] ; efect data segment.
	MOVX	SSEFC3,ARAVRM[6] ; efect data segment.
	CALLC	BOXPAL		; ‚a‚n‚wƒyƒCƒ“ƒg

	MOVX	VX1,VX2		; ‚o‚t‚s@‚wÀ•W
	ADD	VX2,1		; end point.
	SUB	VY2,2		; end point.
	CALLC	BOXPAL		; ‚a‚n‚wƒyƒCƒ“ƒg

	PAT_BANK	4	; ‚SƒJƒŒƒ“ƒ_
	PLSMD	1		;

	MOV	DX,NUM_DAYS	; ‚„‚‚™‚“
	CALLC	DECSTR		; dec -> string.
	CALLC	STRZTS		; zero to space. "00123" - > "  123"
	CALLC	STRSPL		; space pless. "  123" - > "123  "

	MOV	DH,0		;
	MOV	DL,DS:[SI]	; char.
	MOV	AH,0		;
	MOV	AL,DS:[SI][1]	; char.

	CMP	AL,' '		; space.
	JNBE	PT_PUT_DAYS_2KETA
PT_PUT_DAYS_1KETA:
	ADD	XX1,2		; ‚o‚t‚s@‚wÀ•W
	CALL	BIGNUM_PUT	; ‘å‚«‚¢”Žš
	JMP	PT_PUT_DAYS_EXIT
PT_PUT_DAYS_2KETA:
	PUSH	AX		;
	CALL	BIGNUM_PUT	; ‘å‚«‚¢”Žš
	POP	DX		;
	ADD	XX1,4		; ‚o‚t‚s@‚wÀ•W
	CALL	BIGNUM_PUT	; ‘å‚«‚¢”Žš
PT_PUT_DAYS_EXIT:
	RET
FEND	PPT_PUT_DAYS


;	‘å‚«‚¢”Žš
;	-I- XX1 : ‚o‚t‚s@‚wÀ•W
;	    YY1 : ‚o‚t‚s@‚xÀ•W
;	    DX  : ”ŽšƒLƒƒƒ‰

BIGNUM_PUT	PROC	NEAR
	SUB	DX,'0'	
	SHL	DX,1		; 2 byte pointer.
	ADD	DX,27		; 27/29/31/33/35/37/39/41/43/45 ‘å‚«‚¢”Žš
	MOV	NUM,DX		; ”’lƒoƒ‰ƒ“ƒX•\Ž¦‚o‚t‚s
	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s
	RET
BIGNUM_PUT	ENDP


; ***********************************************
;	ƒoƒ“ƒN”‚T
;	ƒpƒŒƒbƒg
; ***********************************************

;	ƒpƒŒƒbƒg‚Ìƒ[ƒh

FUNC	PPT_PALET_LD,PT_PALET_LD
;*;	PRF	"LOAD #5"
	PAT_BANK	5		; ‚T=ƒpƒŒƒbƒg
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	PALET			; ƒpƒŒƒbƒgƒf[ƒ^
	RET
FEND	PPT_PALET_LD


;	ƒpƒŒƒbƒg‚ÌƒZƒbƒg
;	-I- DX : ƒpƒŒƒbƒg‚Ìƒpƒ^[ƒ“”Ô†

FUNC	PPT_PALET_ST,PT_PALET_ST
	PAT_BANK	5	; ‚T=ƒpƒŒƒbƒg
	PALET_SET	DX
	MOV	DX,1		; 0=‰½‚à‚µ‚È‚¢, 1=‚T‚O“ƒ_ƒEƒ“
	CALLC	DKCMMD		; ƒƒbƒZ[ƒW“Ë“üƒ‚[ƒh
	RET
FEND	PPT_PALET_ST


;	ƒpƒŒƒbƒg‚Ìƒe[ƒuƒ‹‚Ì‚ÝƒZƒbƒg
;	-I- DX : ƒpƒŒƒbƒg‚Ìƒpƒ^[ƒ“”Ô†

FUNC	PPT_PALET_PLD,PT_PALET_PLD
	PAT_BANK	5	; ‚T=ƒpƒŒƒbƒg
	PALET_LOAD	0,DX
	RET
FEND	PPT_PALET_PLD


;	ƒpƒŒƒbƒg‚Ìƒe[ƒuƒ‹‚Ì‚ÝƒZƒbƒgiƒe[ƒuƒ‹Žw’èj
;	-I- DX : ƒpƒŒƒbƒg‚Ìƒpƒ^[ƒ“”Ô†
;	    AX : ƒpƒŒƒbƒgƒe[ƒuƒ‹”Ô†

FUNC	PPT_PALET_PLDP,PT_PALET_PLDP
	PUSH	AX
	PAT_BANK	5	; ‚T=ƒpƒŒƒbƒg
	POP	AX
	PALET_LOAD	AX,DX
	RET
FEND	PPT_PALET_PLDP


;	ƒpƒŒƒbƒg‚ÌƒZƒbƒgEƒQ[ƒ€–Ê

FUNC	PPT_PALET_S_GM,PT_PALET_S_GM
	MOV	DX,15			; ƒpƒŒƒbƒg‚Ìƒpƒ^[ƒ“”Ô†
	MOV	AX,4			; ƒpƒŒƒbƒgƒe[ƒuƒ‹”Ô†
	MOV	CX,6			; tC‰ÄC‚XC‚P‚OC‚P‚PC‚P‚Q
PT_PALET_S_GM_LOOP:
	PUSH	AX
	PUSH	CX
	PUSH	DX
	CALL	FAR PTR PPT_PALET_PLDP	; ƒpƒŒƒbƒg‚Ìƒe[ƒuƒ‹‚Ì‚ÝƒZƒbƒg
	POP	DX
	POP	CX
	POP	AX
	INC	DX
	INC	AX
	LOOP	PT_PALET_S_GM_LOOP
	RET
FEND	PPT_PALET_S_GM


; ***********************************************
;	ƒoƒ“ƒN”‚U
;	ƒVƒ‡ƒbƒN
; ***********************************************

;	ƒVƒ‡ƒbƒN‚k‚n‚`‚c

FUNC	PPT_LD_SHOCK,PT_LD_SHOCK
;*;	PRF	"LOAD #6"
	PAT_BANK	6	; ‚UƒVƒ‡ƒbƒN
	CALL	FILE_INIT	; ƒ[ƒh‰Šú‰»
	CALL	PAT6		; ƒVƒ‡ƒbƒN
	RET
FEND	PPT_LD_SHOCK


;	ƒVƒ‡ƒbƒN‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ƒVƒ‡ƒbƒN”Ô†

FUNC	PPT_PUT_SHOCK,PT_PUT_SHOCK
	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W
	MOV	NUM,DX		; ƒpƒ^[ƒ“”Ô†

	PAT_BANK	6	; ‚UƒVƒ‡ƒbƒN
	PLSMD	0		;

	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s
	RET
FEND	PPT_PUT_SHOCK


; ***********************************************
;	ƒoƒ“ƒN”‚V
;	ƒAƒCƒeƒ€
; ***********************************************

;	ƒAƒCƒeƒ€‚k‚n‚`‚c

FUNC	PPT_LD_ITEM,PT_LD_ITEM
;*;	PRF	"LOAD #7"
	PAT_BANK	7	; ‚VƒAƒCƒeƒ€
	CALL	FILE_INIT	; ƒ[ƒh‰Šú‰»
	CALL	PAT7		; ƒAƒCƒeƒ€
	CALL	PAT7WK		; ŽdŽ–ƒAƒCƒeƒ€
	RET
FEND	PPT_LD_ITEM


;	ƒAƒCƒeƒ€‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ƒAƒCƒeƒ€”Ô†

FUNC	PPT_PUT_ITEM,PT_PUT_ITEM
	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W
	MOV	NUM,DX		; ƒpƒ^[ƒ“”Ô†

	PLSMD	1

	PAT_BANK	7	; ‚VƒAƒCƒeƒ€

	CALL	PATTAN_PTX	; ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è
	RET
FEND	PPT_PUT_ITEM


; ***********************************************
;	ƒoƒ“ƒN”‚W
;	¯À
; ***********************************************

;	¯À‚k‚n‚`‚c

FUNC	PPT_LD_SEIZA,PT_LD_SEIZA
;*;	PRF	"LOAD #8"
	PAT_BANK	8	; ‚W¯À
	CALL	FILE_INIT	; ƒ[ƒh‰Šú‰»
	CALL	PAT8		; ¯À
	CALL	BLOOD		; ŒŒ‰tŒ^
	RET
FEND	PPT_LD_SEIZA


;	¯À‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ¯À”Ô†
;		1=‚¨‚Ð‚Â‚¶À
;		2=‚¨‚¤‚µÀ
;		3=‚Ó‚½‚²À
;		4=‚©‚ÉÀ
;		5=‚µ‚µÀ
;		6=‚¨‚Æ‚ßÀ
;		7=‚Ä‚ñ‚Ñ‚ñÀ
;		8=‚³‚»‚èÀ
;		9=‚¢‚ÄÀ
;		10=‚â‚¬À
;		11=‚Ý‚¸‚ª‚ßÀ
;		12=‚¤‚¨À

FUNC	PPT_PUT_SEIZA,PT_PUT_SEIZA
	CMP	DX,1
	JL	PT_PUT_SEIZA_EXIT
	CMP	DX,12
	JG	PT_PUT_SEIZA_EXIT

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W
	DEC	DX		; 
	MOV	NUM,DX		; ƒpƒ^[ƒ“”Ô†

	PLSMD	1

	PAT_BANK	8	; ‚W¯À

PT_PUT_SEIZA_EXIT:
	CALL	PATTAN_PTX	; ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è
	RET
FEND	PPT_PUT_SEIZA


;	ŒŒ‰tŒ^‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ŒŒ‰tŒ^
;		1=‚`Œ^
;		2=‚aŒ^
;		3=‚`‚aŒ^
;		4=‚nŒ^

FUNC	PPT_PUT_BLOOD,PT_PUT_BLOOD
	CMP	DX,1
	JL	PT_PUT_BLOOD_EXIT
	CMP	DX,4
	JG	PT_PUT_BLOOD_EXIT

	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W
	DEC	DX		; 
	MOV	NUM,DX		; ƒpƒ^[ƒ“”Ô†

	SHL	NUM,1		; 2 byte pointer.
	ADD	NUM,12		; æ“ª‚Ì¯À‚ðƒXƒLƒbƒv

	PLSMD	1
	PAT_BANK	8	; ‚W¯À

	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s

PT_PUT_BLOOD_EXIT:
	RET
FEND	PPT_PUT_BLOOD



; ***********************************************
;	ƒoƒ“ƒN”‚P‚O
; ***********************************************

;	–ºƒtƒFƒCƒX‚k‚n‚`‚c
;	-I- DX : ­—i¬’·‚P,¬’·‚Q,¬’·‚R....j

FUNC	PPT_LD_MYGIRL_FACE,PT_LD_MYGIRL_FACE
	CMP	DX,1			; ­—i¬’·‚P,¬’·‚Q,¬’·‚R....j
	JGE	PT_LD_MYGIRL_FACE_01	;
	MOV	DX,1			;
PT_LD_MYGIRL_FACE_01:
	CMP	DX,8			;
	JLE	PT_LD_MYGIRL_FACE_02	;
	MOV	DX,8			;
PT_LD_MYGIRL_FACE_02:

	INC	DX			; + 1
	SHR	DX,1			; / 2		1 -> 1 , 8 -> 4

PT_LD_MYGIRL_FACE_START:		;
	CALLC	DECSTR			; decimal -> string.
	MOVXB	FL_MYGL_F_SCC_N[0],DS:[SI][4]	; "09"<-"00009"
	MOVXB	FL_MYGL_F_SPP_N[0],DS:[SI][4]	;

	PAT_BANK	10		; –ºƒtƒFƒCƒX‚k‚n‚`‚c
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	SI,OFFSET FL_MYGL_F_SCC	; ƒtƒFƒCƒXE¬Œ÷ "F4_01"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	MOV	SI,OFFSET FL_MYGL_F_SPP	; ƒtƒFƒCƒXEŽ¸”s "F5_01"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	RET
FEND	PPT_LD_MYGIRL_FACE


;	–ºƒtƒFƒCƒX‚o‚t‚s
;	-I- DX : Šç 1=¬Œ÷,2=Ž¸”s
;	    AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_PUT_MYGIRL_FACE,PT_PUT_MYGIRL_FACE
	DEC	DX
	CMP	DX,1
	JBE	PT_PUT_MYGIRL_FACE_1
	MOV	DX,1
PT_PUT_MYGIRL_FACE_1:

	MOV	XX1,AX			; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX			; ‚o‚t‚s@‚xÀ•W
	MOV	NUM,DX			; ƒpƒ^[ƒ“”Ô†

	PLSMD	1			;
	PAT_BANK	10		; –ºƒtƒFƒCƒX‚k‚n‚`‚c

	CALL	PATTAN_PTX		; ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è

	RET
FEND	PPT_PUT_MYGIRL_FACE



; ***********************************************
;	ŽûŠnÕŠÖŒW
; ***********************************************

;	ŽûŠnÕƒpƒ^[ƒ“ƒ[ƒh
;	-I- DX : ƒtƒ@ƒCƒ‹”Ô†  PAT10S1,PAT10S2...PAT10S5
;
;		1=ŽûŠnÕ,2=•“¬‰ï,3=ƒ~ƒX‘‰¤,4=•\²Ž®,5=ŠeÜ

FUNC	PPT_SYUKAK_LD,PT_SYUKAK_LD
	MOV	NUM,DX			;

	PAT_BANK	1		; ‚a‚`‚m‚j”‚P
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	DX,NUM			; ƒpƒ^[ƒ“”Ô†
	CALLC	DECSTR			; decimal -> string.
	MOVXB	FL_PAT10SX_NUM,DS:[SI][4] ;"9"<-"00009"
	MOV	SI,OFFSET FL_PAT10SX	; ŽûŠnÕ
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	RET
FEND	PPT_SYUKAK_LD


;	ŽûŠnÕƒpƒ^[ƒ“‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ”Ô†

FUNC	PPT_SYUKAK_PUT,PT_SYUKAK_PUT
	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W
	MOV	NUM,DX		; ƒpƒ^[ƒ“”Ô†

	PAT_BANK	1	; ‚a‚`‚m‚j”‚P
	PLSMD	1		;
	CALL	PATTAN_PTX	; ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è
	RET
FEND	PPT_SYUKAK_PUT


;	ŽûŠnÕƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ”Ô†

FUNC	PPT_SYUKAK_MPT,PT_SYUKAK_MPT
	MOV	XX1,AX		; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX		; ‚o‚t‚s@‚xÀ•W
	MOV	NUM,DX		; ƒpƒ^[ƒ“”Ô†

	PAT_BANK	1	; ‚a‚`‚m‚j”‚P
	PLSMD	1		;

	CALL	MASK_PUT	; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s
	RET
FEND	PPT_SYUKAK_MPT


;*;;	ƒ~ƒXƒRƒ“ƒpƒ^[ƒ“ƒZƒbƒgƒ[ƒh
;*;
;*;FUNC	PPT_LD_MISS,PT_LD_MISS
;*;	PAT_BANK	10	; ‚P‚O‚a‚h‚fƒoƒbƒtƒ@
;*;	CALL	FILE_INIT	; ƒ[ƒh‰Šú‰»
;*;	CALL	PAT10MS		; ƒ~ƒXƒRƒ“
;*;	RET
;*;FEND	PPT_LD_MISS
;*;
;*;
;*;;	ƒ~ƒXƒRƒ“Šeƒpƒ^[ƒ“
;*;;	-I- DX : ƒpƒ^[ƒ“”Ô†
;*;;	    0=uŠeÜ”­•\v
;*;;	    1=uƒ~ƒXEƒRƒ“ƒeƒXƒgv
;*;;	    2=u‘‡—DŸv
;*;;	    3=u‹C•i•”–åv
;*;;	    4=uƒvƒƒ|[ƒVƒ‡ƒ“•”–åv
;*;;	    5=uƒZƒNƒV[•”–åv
;*;
;*;FUNC	PPT_PUT_MISS_SHO,PT_PUT_MISS_SHO
;*;	MOV	NUM,DX			; ƒpƒ^[ƒ“”Ô†
;*;
;*;	PAT_BANK	10		; ‚P‚O‚a‚h‚fƒoƒbƒtƒ@
;*;
;*;	PLSMD	1
;*;	MOV	XX1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚wÀ•W
;*;	MOV	YY1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚xÀ•W
;*;	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
;*;
;*;	RET
;*;FEND	PPT_PUT_MISS_SHO
;*;
;*;
;*;;	•“¬‰ïƒpƒ^[ƒ“ƒZƒbƒgƒ[ƒh
;*;
;*;FUNC	PPT_LD_BUTOH,PT_LD_BUTOH
;*;	PAT_BANK	10	; ‚P‚O‚a‚h‚fƒoƒbƒtƒ@
;*;	CALL	FILE_INIT	; ƒ[ƒh‰Šú‰»
;*;	CALL	PAT10BT		; •“¬‰ï
;*;	RET
;*;FEND	PPT_LD_BUTOH
;*;
;*;
;*;;	•“¬‰ïŠeƒpƒ^[ƒ“
;*;;	-I- DX : ƒpƒ^[ƒ“”Ô†
;*;;	    0=u•\²Ž®v
;*;;	    1=u•“¬‰ïIv
;*;
;*;FUNC	PPT_PUT_BUTOH,PT_PUT_BUTOH
;*;	MOV	NUM,DX			; ƒpƒ^[ƒ“”Ô†
;*;
;*;	PAT_BANK	10		; ‚P‚O‚a‚h‚fƒoƒbƒtƒ@
;*;
;*;	PLSMD	1
;*;	MOV	XX1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚wÀ•W
;*;	MOV	YY1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚xÀ•W
;*;	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
;*;
;*;	RET
;*;FEND	PPT_PUT_BUTOH


; ***********************************************
;	ƒLƒƒƒ‰ƒNƒ^
; ***********************************************


;	ƒLƒƒƒ‰ƒNƒ^Eƒx[ƒX
;	-I- DX : ­—i¬’·‚P,¬’·‚Q,¬’·‚R,¬’·‚Sj
;	    AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_CHR_BASE,PT_CHR_BASE
	CMP	DX,CBASE_MAX		; ƒLƒƒƒ‰¬’·”
	JNBE	PT_CHR_BASE_EXIT	;

	MOV	NUM,DX			; ƒpƒ^[ƒ“”Ô†
	MOV	XX1,AX			; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX			; ‚o‚t‚s@‚xÀ•W

	CALL	GIRL_AJST		; –º‚Ì•\Ž¦ˆÊ’u’²®

	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD		1		;

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	DX,NUM			; ƒpƒ^[ƒ“”Ô†
	CALLC	DECSTR			; decimal -> string.
	MOVXB	CBASE_BDSC,DS:[SI][4]	; "9"<-"00009"
	MOV	SI,OFFSET CBASE_BD	; ƒLƒƒƒ‰‘Ìƒtƒ@ƒCƒ‹–¼ "CB1.PT1"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PTF		; ƒ}ƒXƒNƒpƒ^[ƒ“ƒIƒtƒZƒbƒg‚o‚t‚s
PT_CHR_BASE_EXIT:
	RET
FEND	PPT_CHR_BASE


;	•ž•Ï‰»i‚SƒV[ƒYƒ“j
;	-I- DX : ­—i¬’·‚P,¬’·‚Q,¬’·‚R,¬’·‚Sj
;	    CX : ‹Gßi1:tC2:‰ÄC3:HC4:“~j
;	    AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_CHR_DRESS,PT_CHR_DRESS
	CMP	DX,CBASE_MAX		; ƒLƒƒƒ‰¬’·”
	JNBE	PT_CHR_DRESS_EXIT	;
	CMP	CX,CBASE_DMAX		; ƒLƒƒƒ‰•žƒpƒ^[ƒ“”
	JNBE	PT_CHR_DRESS_EXIT	;

	MOV	NUM,DX			; ƒpƒ^[ƒ“”Ô†
	MOV	NUM2,CX			;
	MOV	XX1,AX			; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX			; ‚o‚t‚s@‚xÀ•W

	CALL	GIRL_AJST		; –º‚Ì•\Ž¦ˆÊ’u’²®

	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD		1		;

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	DX,NUM			; ƒpƒ^[ƒ“”Ô†
	CALLC	DECSTR			; decimal -> string.
	MOVXB	CBASE_DSC,DS:[SI][4]	; "9"<-"00009"
	MOV	DX,NUM2			; ƒpƒ^[ƒ“”Ô†
	CALLC	DECSTR			; decimal -> string.
	MOVXB	CBASE_DSEE,DS:[SI][4]	; "9"<-"00009" •ž‹Gß

	MOV	SI,OFFSET CBASE_DRESS	; ƒLƒƒƒ‰•žƒtƒ@ƒCƒ‹–¼
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PTF		; ƒ}ƒXƒNƒpƒ^[ƒ“ƒIƒtƒZƒbƒg‚o‚t‚s
PT_CHR_DRESS_EXIT:			;
	RET
FEND	PPT_CHR_DRESS



;	Šç•Ï‰»
;	-I- DX : ­—i¬’·‚P,¬’·‚Q,¬’·‚R,¬’·‚Sj
;	    CX : Šçi‚P|‚Rj
;	    AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_CHR_FACE,PT_CHR_FACE
	CMP	DX,CBASE_MAX		; ƒLƒƒƒ‰¬’·”
	JNBE	PT_CHR_FACE_EXIT	;
	CMP	CX,CBASE_FMAX		; ƒLƒƒƒ‰Šçƒpƒ^[ƒ“”
	JNBE	PT_CHR_FACE_EXIT	;

	MOV	NUM,DX			; ƒpƒ^[ƒ“”Ô†
	MOV	NUM2,CX			;
	MOV	XX1,AX			; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX			; ‚o‚t‚s@‚xÀ•W

	CALL	GIRL_AJST		; –º‚Ì•\Ž¦ˆÊ’u’²®

	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD		1		;

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	DX,NUM			; ƒpƒ^[ƒ“”Ô†
	CALLC	DECSTR			; decimal -> string.
	MOVXB	CBASE_FSC,DS:[SI][4]	; "9"<-"00009"
	MOV	DX,NUM2			; ƒpƒ^[ƒ“”Ô†
	CALLC	DECSTR			; decimal -> string.
	MOVXB	CBASE_FSEE,DS:[SI][4]	; "9"<-"00009" ƒLƒƒƒ‰Šç‹Gß

	MOV	SI,OFFSET CBASE_FACE	; ƒLƒƒƒ‰Šçƒtƒ@ƒCƒ‹–¼
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PTF		; ƒ}ƒXƒNƒpƒ^[ƒ“ƒIƒtƒZƒbƒg‚o‚t‚s
PT_CHR_FACE_EXIT:
	RET
FEND	PPT_CHR_FACE


;	–º‚Ì•\Ž¦ˆÊ’u’²®
;	-I-   NUM : ƒpƒ^[ƒ“”Ô†
;	-I/O- XX1 : ‚o‚t‚s@‚wÀ•W
;	      YY1 : ‚o‚t‚s@‚xÀ•W

GIRL_AJST	PROC	NEAR
	MOV	BX,NUM			; ƒpƒ^[ƒ“”Ô†
	MOV	AL,DS:GIRL_OFS_TBL[BX]	; –º‚Ì•\Ž¦ˆÊ’uƒIƒtƒZƒbƒg
	CBW				; •„†Šg’£
	ADD	XX1,AX			; ‚o‚t‚s@‚wÀ•W
	RET
GIRL_AJST	ENDP


; ***********************************************
;	‚a‚fi”wŒij
; ***********************************************


;	ƒƒCƒ“‚a‚f|‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_CHR_BG_MAIN,PT_CHR_BG_MAIN
	MOV	DX,1			; ‚a‚f”Ô†
	CALL	PT_CHR_BG		; ‚a‚f|‚o‚t‚s
	RET
FEND	PPT_CHR_BG_MAIN


;	ƒoƒgƒ‹‚a‚f|‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ‚a‚f”Ô†
;	E‚a‚f”Ô†
;	1=ƒƒCƒ“‚a‚f
;	2=Ž›‰@‚Ì‹ui•“¬‰ïj
;	3=

FUNC	PPT_CHR_BG_BATLE,PT_CHR_BG_BATLE
	ADD	AX,1			; ‚wƒIƒtƒZƒbƒg
	ADD	BX,32			; ‚xƒIƒtƒZƒbƒg
	CALL	PT_CHR_BG		; ‚a‚f|‚o‚t‚s
	RET
FEND	PPT_CHR_BG_BATLE


;	‚a‚f|‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ‚a‚f”Ô†

PT_CHR_BG	PROC	NEAR
	MOV	XX1,AX			; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX			; ‚o‚t‚s@‚xÀ•W
	MOV	BGNUM,DX		; ‚a‚f”Ô†

	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD	1			;
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	DX,BGNUM		; ‚a‚f”Ô†
	CALL	PT_CHR_BG_LDA		; ‚a‚f|‚k‚n‚`‚ci’Ç‰Áj

	MOV	DX,0			; ƒpƒ^[ƒ“”Ô†i‚QŒÂ˜A‘±j
	CALL	PT_CHR_BG_PUT		; ‚a‚f|‚o‚t‚s‚Ì‚Ý

	RET
PT_CHR_BG	ENDP




;	‚a‚f|‚o‚t‚s‚Ì‚Ý
;	-I- XX1 : ‚o‚t‚sƒIƒtƒZƒbƒg@‚wÀ•W
;	    YY1 : ‚o‚t‚sƒIƒtƒZƒbƒg@‚xÀ•W
;	    DX : ƒpƒ^[ƒ“”Ô†i‚QŒÂ˜A‘±j

PT_CHR_BG_PUT	PROC	NEAR
	MOV	NUM,DX			; ƒpƒ^[ƒ“”Ô†i‚QŒÂ˜A‘±j
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	INC	NUM			; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	RET
PT_CHR_BG_PUT	ENDP


;	‚a‚f|‚k‚n‚`‚ci’Ç‰Áj
;	-I-  DX : ‚a‚f”Ô†

PT_CHR_BG_LDA	PROC	NEAR
	MOV	BGNUM,DX		; ‚a‚f”Ô†

	CMP	DX,FL_BG_MAX		; ‚a‚f‚l‚`‚w
	JLE	PT_CHR_BG_LDA_2		;
	MOVX	BGNUM,FL_BG_MAX		;
PT_CHR_BG_LDA_2:

	MOV	BX,W_GIRL_GROW		; ­—i¬’·‚P,¬’·‚Q,¬’·‚R,¬’·‚Sj
	INC	BX			;+1
	SHR	BX,1			; / 2 i¬’·‚P‚©‚ç‚W‚Ü‚Å‚QƒXƒeƒbƒvj
	SHL	BX,1			; word pointer.
	MOV	DI,DS:FL_BG_LEFT[BX]	;
	MOV	BX,BGNUM		; ‚a‚f”Ô†
	SHL	BX,1			; word pointer.
	MOV	SI,DS:[DI][BX]		;
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	MOV	BX,W_GIRL_GROW		; ­—i¬’·‚P,¬’·‚Q,¬’·‚R,¬’·‚Sj
	INC	BX			;+1
	SHR	BX,1			; / 2 i¬’·‚P‚©‚ç‚W‚Ü‚Å‚QƒXƒeƒbƒvj
	SHL	BX,1			; word pointer.
	MOV	DI,DS:FL_BG_RIGHT[BX]	;
	MOV	BX,BGNUM		; ‚a‚f”Ô†
	SHL	BX,1			; word pointer.
	MOV	SI,DS:[DI][BX]		;
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	RET
PT_CHR_BG_LDA	ENDP


;*;;	‚a‚f|‚o‚t‚s
;*;;	-I- AX : ‚o‚t‚s@‚wÀ•W
;*;;	    BX : ‚o‚t‚s@‚xÀ•W
;*;;	    DX : ‚a‚f”Ô†
;*;
;*;PT_CHR_BG	PROC	NEAR
;*;	MOV	XX1,AX			; ‚o‚t‚s@‚wÀ•W
;*;	MOV	YY1,BX			; ‚o‚t‚s@‚xÀ•W
;*;	MOV	BGNUM,DX		; ‚a‚f”Ô†
;*;
;*;	CMP	DX,FL_BG_MAX		; ‚a‚f‚l‚`‚w
;*;	JLE	PT_CHR_BG_2		;
;*;	MOVX	BGNUM,FL_BG_MAX		;
;*;PT_CHR_BG_2:
;*;
;*;	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
;*;	PLSMD	1			;
;*;
;*;	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
;*;
;*;	MOV	BX,BGNUM		; ‚a‚f”Ô†
;*;	SHL	BX,1			; word pointer.
;*;	MOV	SI,DS:FL_BG_LEFT[BX]	;
;*;	CALL	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh
;*;
;*;	MOV	BX,BGNUM		; ‚a‚f”Ô†
;*;	SHL	BX,1			; word pointer.
;*;	MOV	SI,DS:FL_BG_RIGHT[BX]	;
;*;	CALL	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh
;*;
;*;	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
;*;	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
;*;	MOV	NUM,1			; ƒpƒ^[ƒ“”Ô†
;*;	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
;*;	RET
;*;PT_CHR_BG	ENDP



; ***********************************************
;	‘ŠŽèŠÖŒW
; ***********************************************


;	“¬Žm‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : “¬Žm”Ô†
;	E“¬Žm”Ô†
;		1-23

FUNC	PPT_TOHSHI,PT_TOHSHI
;*;	PUSH	AX
;*;	PUSH	BX
;*;	PUSH	DX
;*;	MOV	AX,1			; 1=ŠO•”ƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
;*;	POP	DX
;*;	POP	BX
;*;	POP	AX

	ADD	AX,1+7+2		; ‚wƒIƒtƒZƒbƒg
	ADD	BX,32+48+12		; ‚xƒIƒtƒZƒbƒg
	MOV	XX1,AX			; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX			; ‚o‚t‚s@‚xÀ•W
	MOV	TONUM,DX		; “¬Žm”Ô†

	CMP	DX,FL_TOHS_MAX		; “¬Žm‚l‚`‚w
	JLE	PT_TOHSHI_2		;
	MOVX	TONUM,FL_TOHS_MAX	;
PT_TOHSHI_2:				;

	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD	1			;
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	DX,TONUM		; “¬Žm”Ô†
	DEC	DX			; |‚P
	CALLC	DECSTR			; decimal -> string.
	MOVXB	FL_TOHS_NUM[0],DS:[SI][3] ; "9"<-"00009" “¬Žm”Ô†”Ô†
	MOVXB	FL_TOHS_NUM[1],DS:[SI][4] ; "9"<-"00009" “¬Žm”Ô†”Ô†
	MOV	SI,OFFSET FL_TOHS	; ƒtƒFƒCƒX "E1_00.PT1"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT		; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s

;*;	MOV	AX,0			; 0=“à•”‚ÌƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
	RET
FEND	PPT_TOHSHI


;	Žt”Í‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : Žt”Í”Ô†
;	EŽt”Í”Ô†
;		1-3

FUNC	PPT_SHIHAN,PT_SHIHAN
;*;	PUSH	AX
;*;	PUSH	BX
;*;	PUSH	DX
;*;	MOV	AX,1			; 1=ŠO•”ƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
;*;	POP	DX
;*;	POP	BX
;*;	POP	AX

	ADD	AX,1+7+2		; ‚wƒIƒtƒZƒbƒg
	ADD	BX,32+48+12		; ‚xƒIƒtƒZƒbƒg
	MOV	XX1,AX			; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX			; ‚o‚t‚s@‚xÀ•W
	MOV	SHNUM,DX		; “¬Žm”Ô†

	CMP	DX,FL_SHIHAN_MAX	; Žt”Í‚l‚`‚w
	JLE	PT_SHIHAN_2		;
	MOVX	SHNUM,FL_SHIHAN_MAX	; Žt”Í‚l‚`‚w
PT_SHIHAN_2:				;

	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD	1			;
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	DX,SHNUM		; Žt”Í”Ô†
	CALLC	DECSTR			; decimal -> string.
	MOVXB	FL_SHIHAN_NUM[0],DS:[SI][3] ; "9"<-"00009" Žt”Í”Ô†
	MOVXB	FL_SHIHAN_NUM[1],DS:[SI][4] ; "9"<-"00009" Žt”Í”Ô†
	MOV	SI,OFFSET FL_SHIHAN	; ƒtƒFƒCƒX "E3_00.PT1"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT		; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s

;*;	MOV	AX,0			; 0=“à•”‚ÌƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
	RET
FEND	PPT_SHIHAN


;	ƒ‚ƒ“ƒXƒ^[ ‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ƒ‚ƒ“ƒXƒ^[”Ô†
;	Eƒ‚ƒ“ƒXƒ^[”Ô†
;		1-10

FUNC	PPT_MNSTER,PT_MNSTER
;*;	PUSH	AX
;*;	PUSH	BX
;*;	PUSH	DX
;*;	MOV	AX,1			; 1=ŠO•”ƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
;*;	POP	DX
;*;	POP	BX
;*;	POP	AX

	ADD	AX,1+7			; ‚wƒIƒtƒZƒbƒg
	ADD	BX,32+48		; ‚xƒIƒtƒZƒbƒg
	MOV	XX1,AX			; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX			; ‚o‚t‚s@‚xÀ•W
	MOV	MNNUM,DX		; ƒ‚ƒ“ƒXƒ^[”Ô†

	CMP	DX,FL_TK_MAX		; ƒ‚ƒ“ƒXƒ^[‚l‚`‚w
	JLE	PT_MNSTER_2		;
	MOVX	MNNUM,FL_TK_MAX		;
PT_MNSTER_2:				;

	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD		1		;
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	DX,MNNUM		; ƒ‚ƒ“ƒXƒ^[”Ô†
	CALLC	DECSTR			; decimal -> string.
	MOVXB	FL_TK_NUM[0],DS:[SI][3]	; "09"<-"00009"
	MOVXB	FL_TK_NUM[1],DS:[SI][4]	; "09"<-"00009"
	MOV	SI,OFFSET FL_TK		; ƒ‚ƒ“ƒXƒ^[ "E2_01.PT1"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	MASK_PUT		; ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s

;*;	MOV	AX,0			; 0=“à•”‚ÌƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
	RET
FEND	PPT_MNSTER


;	ƒ~ƒXƒRƒ“‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ƒ€ƒXƒ”Ô†
;	Eƒ€ƒXƒ”Ô†
;		1-17

FUNC	PPT_MISSCON,PT_MISSCON
	PUSH	AX
	PUSH	BX
	CALL	FAR PTR PPT_MISSCON_LD		; ƒ~ƒXƒRƒ“‚k‚n‚`‚c ‚n‚m‚k‚x
	POP	BX
	POP	AX
	CALL	FAR PTR PPT_MISSCON_PUT		; ƒ~ƒXƒRƒ“‚o‚t‚s ‚n‚m‚k‚x
	RET
FEND	PPT_MISSCON


;	ƒ~ƒXƒRƒ“‚k‚n‚`‚c ‚n‚m‚k‚x
;	-I- DX : ƒ€ƒXƒ”Ô†
;	Eƒ€ƒXƒ”Ô†
;		1-17

FUNC	PPT_MISSCON_LD,PT_MISSCON_LD
;*;	PUSH	AX
;*;	PUSH	BX
;*;	PUSH	DX
;*;	MOV	AX,1			; 1=ŠO•”ƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
;*;	POP	DX
;*;	POP	BX
;*;	POP	AX

	MOV	GLNUM,DX		; ƒ€ƒXƒ”Ô†

	CMP	DX,FL_MISSCON_MAX	; ƒ~ƒXƒRƒ“‚l‚`‚w
	JLE	PT_MISSCON_2		;
	MOVX	GLNUM,FL_MISSCON_MAX	;
PT_MISSCON_2:

	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD	1			;
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

					; ƒ~ƒXƒRƒ“ "MC_nn_x.PT1"
	CMP	GLNUM,1			; ƒ€ƒXƒ”Ô† ‚P‚ÍŽ©•ª‚Ì–º
	JNE	PT_MISSCON_ANTHER	;
PT_MISSCON_MY:
	MOV	DX,W_GIRL_GROW		; ­—i¬’·‚P,¬’·‚Q,¬’·‚R,¬’·‚Sj
	ADD	DX,17			;
	MOV	GLNUM,DX		; ƒ€ƒXƒ”Ô†
	JMP	PT_MISSCON_4		;
PT_MISSCON_ANTHER:
	MOV	DX,GLNUM		; ƒ€ƒXƒ”Ô†
	DEC	DX			;
PT_MISSCON_4:
	CMP	DX,25			;
	JLE	PT_MISSCON_44		;
	MOV	DX,25			;
PT_MISSCON_44:
	CALLC	DECSTR			; decimal -> string.
	MOVXB	FL_MISC_NUM[0],DS:[SI][3] ; "9"<-"00009" ƒ~ƒXƒRƒ“ ƒƒ“ƒo
	MOVXB	FL_MISC_NUM[1],DS:[SI][4] ; "9"<-"00009" ƒ~ƒXƒRƒ“ ƒƒ“ƒo
PT_MISSCON_5:
;*;	MOV	BX,W_GIRL_GROW		; ­—i¬’·‚P,¬’·‚Q,¬’·‚R,¬’·‚Sj
;*;	DEC	BX			; 0 base.
;*;	MOV	AL,DS:FL_MISS_DISK_F[BX] ;Ì§²Ù––”ö(¬’·‚P,¬’·‚Q,¬’·‚R,¬’·‚S)
;*;	MOV	FL_MISC_AGE,AL		; ƒ~ƒXƒRƒ“ P,2,3,4(¬’·)

	MOV	SI,OFFSET FL_MISC	; ƒ~ƒXƒRƒ“ "MC_nn_x.PT1"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

;*;	MOV	AX,0			; 0=“à•”‚ÌƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
	RET
FEND	PPT_MISSCON_LD


;	ƒ~ƒXƒRƒ“‚o‚t‚s ‚n‚m‚k‚x
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W

FUNC	PPT_MISSCON_PUT,PT_MISSCON_PUT
	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD	1			;
	MOV	XX1,AX			; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX			; ‚o‚t‚s@‚xÀ•W
	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	RET
FEND	PPT_MISSCON_PUT


;	ƒtƒFƒCƒX‚o‚t‚s
;	-I- AX : ‚o‚t‚s@‚wÀ•W
;	    BX : ‚o‚t‚s@‚xÀ•W
;	    DX : ƒtƒFƒCƒX”Ô†
;	EƒtƒFƒCƒX”Ô†
;		01 : ‰q•º
;		02 : ‹ß‰q‘à’·
;		03 : Ž˜]
;		04 : Ž˜]’·
;		05 : ‰¤”Ü—l
;		06 : ‰¤—l
;		*
;		07 : •Œ|Žt”Í‚P
;		08 : •Œ|Žt”Í‚Q
;		09 : •Œ|Žt”Í‚R
;		10 : Šw–âê‚Ìæ¶
;		11 : —ç–@‚Ìæ¶
;		*
;		12 : h‰®
;		13 : ƒƒCƒh
;		14 : ‘ã•M‰®
;		15 : Žðê‚P
;		16 : ˆãŽÒ
;		17 : Žël
;		18 : •Ší‰®
;		19 : h‰®‚Q
;		20 : –ØƒRƒŠ
;		21 : ‹³‰ï
;		22 : Žðê‚Q
;		23 : l‘«
;		*
;		24 : ŽålŒö‚P‚O|‚P‚Q¬Œ÷
;		25 : ŽålŒö‚P‚Q|‚P‚S¬Œ÷
;		26 : ŽålŒö‚P‚S|‚P‚U¬Œ÷
;		27 : ŽålŒö‚P‚U|‚P‚W¬Œ÷
;		*
;		28 : ŽålŒö‚P‚O|‚P‚QŽ¸”s
;		29 : ŽålŒö‚P‚Q|‚P‚SŽ¸”s
;		30 : ŽålŒö‚P‚S|‚P‚UŽ¸”s
;		31 : ŽålŒö‚P‚U|‚P‚WŽ¸”s

FUNC	PPT_FACE,PT_FACE
;*;	PUSH	AX
;*;	PUSH	BX
;*;	PUSH	DX
;*;	MOV	AX,1			; 1=ŠO•”ƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
;*;	POP	DX
;*;	POP	BX
;*;	POP	AX

;*;	ADD	AX,1+7			; ‚wƒIƒtƒZƒbƒg
;*;	ADD	BX,32+48		; ‚xƒIƒtƒZƒbƒg
	MOV	XX1,AX			; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,BX			; ‚o‚t‚s@‚xÀ•W
	MOV	FCNUM,DX		; ƒtƒFƒCƒX”Ô†

	CMP	DX,FL_FACE_MAX		; ƒtƒFƒCƒX‚l‚`‚w
	JLE	PT_FACE_2		;
	MOVX	FCNUM,FL_FACE_MAX	;
PT_FACE_2:				;


	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD	1			;
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	DX,FCNUM		; ƒtƒFƒCƒX”Ô†
	CMP	DX,1			;  1-6  ‰q•º
	JGE	PT_FACE_3		;
	JMP	PT_FACE_EXIT		;
PT_FACE_3:
	CMP	DX,7			;  7-11 •Œ|Žt”Í‚P
	JL	PT_FACE_41		;
	CMP	DX,12			; 12-23 h‰®
	JL	PT_FACE_42		;
	CMP	DX,24			; 24-27 ŽålŒö‚P‚O|‚P‚Q¬Œ÷
	JL	PT_FACE_43		;
	CMP	DX,28			; 28-31 ŽålŒö‚P‚O|‚P‚QŽ¸”s
	JL	PT_FACE_44		;
	JMP	PT_FACE_45		;

PT_FACE_41:
	MOV	FL_FACE_CUT,'1'		;  1-6  ‰q•º
	MOV	DX,FCNUM		; ƒtƒFƒCƒX”Ô†
	JMP	PT_FACE_46		;
PT_FACE_42:
	MOV	FL_FACE_CUT,'2'		;  7-11 •Œ|Žt”Í‚P
	MOV	DX,FCNUM		; ƒtƒFƒCƒX”Ô†
	SUB	DX,7-1			;
	JMP	PT_FACE_46		;
PT_FACE_43:
	MOV	FL_FACE_CUT,'3'		; 12-23 h‰®
	MOV	DX,FCNUM		; ƒtƒFƒCƒX”Ô†
	SUB	DX,12-1			;
	JMP	PT_FACE_46		;
PT_FACE_44:
	MOV	FL_FACE_CUT,'4'		; 24-27 ŽålŒö‚P‚O|‚P‚Q¬Œ÷
	MOV	DX,FCNUM		; ƒtƒFƒCƒX”Ô†
	SUB	DX,24-1			;
	JMP	PT_FACE_46		;
PT_FACE_45:
	MOV	FL_FACE_CUT,'5'		; 28-31 ŽålŒö‚P‚O|‚P‚QŽ¸”s
	MOV	DX,FCNUM		; ƒtƒFƒCƒX”Ô†
	SUB	DX,28-1			;
	JMP	PT_FACE_46		;
PT_FACE_46:
	CALLC	DECSTR			; decimal -> string.
	MOVXB	FL_FACE_NUM[0],DS:[SI][3]	; "09"<-"00009"
	MOVXB	FL_FACE_NUM[1],DS:[SI][4]	; "09"<-"00009"

	MOV	SI,OFFSET FL_FACE	; ƒtƒFƒCƒX "F1_01.PT1"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PTX		; ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è
;*;	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s

PT_FACE_EXIT:
;*;	MOV	AX,0			; 0=“à•”‚ÌƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
	RET
FEND	PPT_FACE


; ***********************************************
;	•Œ|‚a‚f|‚o‚t‚s
; ***********************************************

;	•Œ|‚a‚f|‚o‚t‚s

FUNC	PPT_CHR_BG_BUGEI,PT_CHR_BG_BUGEI
	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	MOV	DX,6			; ‚a‚f”Ô† 6=•Œ|
	CALL	PT_CHR_BG_LDA		; ‚a‚f|‚k‚n‚`‚ci’Ç‰Áj
	PLSMD	1			;
	MOV	DX,0			; ƒpƒ^[ƒ“”Ô†i‚QŒÂ˜A‘±j
	MOV	XX1,1			; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,32			; ‚o‚t‚s@‚xÀ•W
	CALL	PT_CHR_BG_PUT		; ‚a‚f|‚o‚t‚s‚Ì‚Ý
	RET
	RET
FEND	PPT_CHR_BG_BUGEI


; ***********************************************
;	•“¬‰ï‚a‚f|‚o‚t‚s
; ***********************************************

;	•“¬‰ïŠÖŒW‘Sƒ[ƒh

FUNC	PPT_BUTOH_ALL_LOAD,PT_BUTOH_ALL_LOAD
	PAT_BANK	1		; ‚a‚`‚m‚j”‚P
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMB1			; #0 ƒoƒgƒ‹ƒtƒŒ[ƒ€E¶‘¤
	CALL	FREAMB2			; #1 ƒoƒgƒ‹ƒtƒŒ[ƒ€E^’†
	CALL	FREAMB3			; #2 ƒoƒgƒ‹ƒtƒŒ[ƒ€E‰E‘¤
	RET
FEND	PPT_BUTOH_ALL_LOAD


;	•“¬‰ï‚a‚f|‚o‚t‚s

FUNC	PPT_CHR_BG_BUTOH,PT_CHR_BG_BUTOH
	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	MOV	DX,2			; ‚a‚f”Ô† 2=Ž›‰@‚Ì‹ui•“¬‰ïj
	CALL	PT_CHR_BG_LDA		; ‚a‚f|‚k‚n‚`‚ci’Ç‰Áj
	PLSMD	1			;
	MOV	DX,0			; ƒpƒ^[ƒ“”Ô†i‚QŒÂ˜A‘±j
	MOV	XX1,1			; ‚o‚t‚s@‚wÀ•W
	MOV	YY1,32			; ‚o‚t‚s@‚xÀ•W
	CALL	PT_CHR_BG_PUT		; ‚a‚f|‚o‚t‚s‚Ì‚Ý
	RET
FEND	PPT_CHR_BG_BUTOH


;	•“¬‰ïƒtƒŒ[ƒ€

FUNC	PPT_FREAM_BUTOH,PT_FREAM_BUTOH
	PAT_BANK	1		; ‚a‚`‚m‚j”‚P
	PLSMD	1
	MOV	XX1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚wÀ•W
	MOV	YY1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚xÀ•W
	MOV	NUM,0			; #0 ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	MOV	NUM,1			; #1 ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	MOV	NUM,2			; #2 ’ÊíƒtƒŒ[ƒ€E‰E
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	RET
FEND	PPT_FREAM_BUTOH


; ***********************************************
;	•ŽÒCs‚a‚f|‚o‚t‚s
; ***********************************************

;	•ŽÒCsŠÖŒW‘Sƒ[ƒh

FUNC	PPT_MUSYA_ALL_LOAD,PT_MUSYA_ALL_LOAD
;*;	PAT_BANK	1		; ‚a‚`‚m‚j”‚P
;*;	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
;*;	CALL	FREAMM1			; #0 •ŽÒCsƒtƒŒ[ƒ€E¶‘¤
;*;	CALL	FREAMM2			; #1 •ŽÒCsƒtƒŒ[ƒ€E^’†
;*;	CALL	FREAMM3			; #2 •ŽÒCsƒtƒŒ[ƒ€E‰E‘¤
	RET
FEND	PPT_MUSYA_ALL_LOAD


;	•ŽÒCsƒtƒŒ[ƒ€

FUNC	PPT_FREAM_MUSYA,PT_FREAM_MUSYA
	PAT_BANK	1		; ‚a‚`‚m‚j”‚P
	PLSMD	1

	MOV	XX1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚wÀ•W
	MOV	YY1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚xÀ•W

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMM1			; #0 •ŽÒCsƒtƒŒ[ƒ€E¶‘¤
	MOV	NUM,0			; #0 ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMM2			; #0 •ŽÒCsƒtƒŒ[ƒ€E^’†
	MOV	NUM,0			; #0 ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s

	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	FREAMM3			; #0 •ŽÒCsƒtƒŒ[ƒ€E‰E‘¤
	MOV	NUM,0			; #0 ’ÊíƒtƒŒ[ƒ€E‰E
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	RET
FEND	PPT_FREAM_MUSYA


;*;;	•ŽÒCs‚a‚f|ƒ[ƒhi‚a‚`‚m‚j”‚Pj
;*;;	-I- AX : êŠ=1 ‹ßx
;*;;	             =2 •Ó‹«
;*;;	             =3 ”Ø’n
;*;
;*;FUNC	PPT_CHR_BG_MUSYA_LD,PT_CHR_BG_MUSYA_LD
;*;	MOV	NUM,AX
;*;	PAT_BANK	1		; ‚a‚`‚m‚j”‚P
;*;	PLSMD		1		;
;*;	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
;*;	MOV	DX,NUM			;
;*;	ADD	DX,2			; ‚a‚f”Ô†‚R=‹ßx,‚S•Ó‹«,‚T”Ø’n
;*;	CALL	PT_CHR_BG_LDA		; ‚a‚f|‚k‚n‚`‚ci’Ç‰Áj
;*;	RET
;*;FEND	PPT_CHR_BG_MUSYA_LD
;*;
;*;
;*;;	•ŽÒCs‚a‚f|‚o‚t‚s
;*;
;*;FUNC	PPT_CHR_BG_MUSYA_PT,PT_CHR_BG_MUSYA_PT
;*;	PAT_BANK	1		; ‚a‚`‚m‚j”‚P
;*;	PLSMD		1		;
;*;	MOV	DX,0			; ƒpƒ^[ƒ“”Ô†i‚QŒÂ˜A‘±j
;*;	MOV	XX1,1			; ‚o‚t‚s@‚wÀ•W
;*;	MOV	YY1,32			; ‚o‚t‚s@‚xÀ•W
;*;	CALL	PT_CHR_BG_PUT		; ‚a‚f|‚o‚t‚s‚Ì‚Ý
;*;	RET
;*;FEND	PPT_CHR_BG_MUSYA_PT


; ***********************************************
;	ƒCƒxƒ“ƒgŠÖŒW
; ***********************************************

;	’¬‚Ì•]”»
;	-I- AX : ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚wˆÊ’u
;	    BX : ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚xˆÊ’u

FUNC	PPT_MACHINOUWASA,PT_MACHINOUWASA
;*;	PUSH	AX
;*;	PUSH	BX
;*;	PUSH	DX
;*;	MOV	AX,1			; 1=ŠO•”ƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
;*;	POP	DX
;*;	POP	BX
;*;	POP	AX

	MOV	XX1,AX			; ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚wˆÊ’u
	MOV	YY1,BX			; ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚xˆÊ’u

	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD		1		;
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	CALL	I4_02			; ’¬‚Ì•]”»

	MOV	AX,1			; 1=ƒpƒ^[ƒ“‚o‚t‚sƒI[ƒoƒ‰ƒbƒv
	CALLC	PATEFC			; ƒp[ƒc‚o‚t‚sƒGƒtƒFƒNƒg
	MOV	NUM,0			; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	MOV	AX,0			; 0=’Êí
	CALLC	PATEFC			; ƒp[ƒc‚o‚t‚sƒGƒtƒFƒNƒg

;*;	MOV	AX,0			; 0=“à•”‚ÌƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
	RET
FEND	PPT_MACHINOUWASA


;	ƒCƒxƒ“ƒgƒrƒ…[
;	-I- AX : ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚wˆÊ’u
;	    BX : ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚xˆÊ’u
;	    DX : ƒpƒ^[ƒ“”Ô†
;		1=‰¤—l‚Æ‚Ì‰ïŒ©
;		2=’¬‚Ì•]”»
;		3=ƒXƒe[ƒ^ƒX
;		4=–º‚Æ˜b‚·
;		5=”ƒ•¨
;		6=•Œ|“¹ê
;		7=Šw–âê
;		8=—ç–@‚Ì“¹ê
;		9=‹x‘§

FUNC	PPT_EVENT_VIEW,PT_EVENT_VIEW
	CMP	DX,IVENT_VIEW_MAX	; ƒCƒxƒ“ƒgƒpƒ^[ƒ“”
	JNBE	PT_EVENT_VIEW_EXIT	;

;*;	PUSH	AX
;*;	PUSH	BX
;*;	PUSH	DX
;*;	MOV	AX,1			; 1=ŠO•”ƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
;*;	POP	DX
;*;	POP	BX
;*;	POP	AX

	MOV	NUM,DX			; ƒpƒ^[ƒ“”Ô†
	MOV	XX1,AX			; ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚wˆÊ’u
	MOV	YY1,BX			; ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚xˆÊ’u

	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD		1		;
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	BX,NUM			; ƒpƒ^[ƒ“”Ô†
	SHL	BX,1			; word pointer.
	MOV	SI,DS:IVENT_VIEW[BX]	; ƒCƒxƒ“ƒgƒpƒ^[ƒ“
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	MOV	AX,1			; 1=ƒpƒ^[ƒ“‚o‚t‚sƒI[ƒoƒ‰ƒbƒv
	CALLC	PATEFC			; ƒp[ƒc‚o‚t‚sƒGƒtƒFƒNƒg
	MOV	NUM,0			;
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	MOV	AX,0			; 0=’Êí
	CALLC	PATEFC			; ƒp[ƒc‚o‚t‚sƒGƒtƒFƒNƒg

;*;	MOV	AX,0			; 0=“à•”‚ÌƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
PT_EVENT_VIEW_EXIT:
	RET
FEND	PPT_EVENT_VIEW


;	s‚¢ƒCƒxƒ“ƒgƒrƒ…[
;	-I- AX : ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚wˆÊ’u
;	    BX : ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚xˆÊ’u
;	    DX : ƒpƒ^[ƒ“”Ô†
;		1=h‰®
;		2=ƒƒCƒh
;		3=‘ã•M‰®
;		4=Žðê‚P
;		5=ˆãŽÒ
;		6=Žël
;		7=•Ší‰®
;		8=h‰®‚Q
;		9=–ØƒRƒŠ
;		10=‹³‰ï
;		11=Žðê‚Q
;		12=l‘«

FUNC	PPT_EVENT_VWWK,PT_EVENT_VWWK
	CMP	DX,IVENT_VWWK_MAX	; s‚¢ƒCƒxƒ“ƒgƒpƒ^[ƒ“”
	JNBE	PT_EVENT_VWWK_EXIT	;

;*;	PUSH	AX
;*;	PUSH	BX
;*;	PUSH	DX
;*;	MOV	AX,1			; 1=ŠO•”ƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
;*;	POP	DX
;*;	POP	BX
;*;	POP	AX

	MOV	NUM,DX			; ƒpƒ^[ƒ“”Ô†
	MOV	XX1,AX			; ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚wˆÊ’u
	MOV	YY1,BX			; ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚xˆÊ’u

	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD		1		;
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	DX,NUM			; ƒpƒ^[ƒ“”Ô†
	CALLC	DECSTR			; decimal -> string.
	MOVXB	IVENT_VWWK_NUM[0],DS:[SI][3]	; "09"<-"00009"
	MOVXB	IVENT_VWWK_NUM[1],DS:[SI][4]	; "09"<-"00009"
	MOV	SI,OFFSET IVENT_VWWK	; s‚¢ƒCƒxƒ“ƒgƒpƒ^[ƒ“ "I1_01.PT1"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	MOV	AX,1			; 1=ƒpƒ^[ƒ“‚o‚t‚sƒI[ƒoƒ‰ƒbƒv
	CALLC	PATEFC			; ƒp[ƒc‚o‚t‚sƒGƒtƒFƒNƒg
	MOV	NUM,0			;
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	MOV	AX,0			; 0=’Êí
	CALLC	PATEFC			; ƒp[ƒc‚o‚t‚sƒGƒtƒFƒNƒg

;*;	MOV	AX,0			; 0=“à•”‚ÌƒEƒCƒ“ƒhƒE‚ðŽg‚¤
;*;	CALLC	DKCWID			; ÃÞ¨½¸ÁªÝ¼Þ•\Ž¦‚·‚éƒEƒCƒ“ƒhƒE‚Ì‘I‘ð
PT_EVENT_VWWK_EXIT:
	RET
FEND	PPT_EVENT_VWWK


; ***********************************************
;	—Ž‚¿ŠÖŒW
; ***********************************************

;	ƒIƒ`‚ÌŠGƒ[ƒh
;	-I- DX : —Ž‚¿‚ÌŽí—Þ
;		1=—‰¤
;		2=•P
;		3=’·Žõ
;		4=«ŒR
;		5=‰¤—§ƒAƒJƒfƒ~[‘Ù
;		6=‰¤‹{–‚–@Žt
;		7=‹M‘°‚ÌÈ‚P
;		8=‰¤‚Ì‘¤Žº
;		9=ŽiÕ
;		10=‹RŽm
;		11=‹ß‰q‘à’·
;		12=—û‹àpŽt
;		13=–‚“¹Žt
;		14=‹M‘°‚ÌÈ‚Q
;		15=‹M‘°‚Ì‘¤Žº
;		16=ã‹‰“ò‘m
;		17=•S©‚ÌÈ
;		18=–ØƒRƒŠ
;		19=•¶Žm
;		20=–‚–@Žg‚¢
;		21=¤‰Æ‚ÌÈ
;		22=Žðê‚Ì—‚ÌŽq
;		23=“ò‘m
;		24=—b•º
;		25=Ü‹à‚©‚¹‚¬
;		26=ƒTƒMŽt
;		27=—·‚Ì–‚–@Žg‚¢
;		28=‚‹‰©•w
;		29=”„t•w
;		30=o–ß‚è

FUNC	PPT_OCHI_LD,PT_OCHI_LD

;;CODE_IN
;;	PRV	"—Ž‚¿‚ÌŽí—Þ=",DX
;;CODE_OUT

	CALLC	DECSTR			; decimal -> string.
	MOVXB	OCHI_VIEW_FL_NM[0],DS:[SI][3]	; "09" <- "00009"
	MOVXB	OCHI_VIEW_FL_NM[1],DS:[SI][4]	;

	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	OCHI_VIEW_FL_CT,'2'
	MOV	SI,OFFSET OCHI_VIEW_FL	; ƒIƒ`ƒpƒ^[ƒ“ƒtƒ@ƒCƒ‹–¼ "L1_01.PT1"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	MOV	OCHI_VIEW_FL_CT,'3'
	MOV	SI,OFFSET OCHI_VIEW_FL	; ƒIƒ`ƒpƒ^[ƒ“ƒtƒ@ƒCƒ‹–¼ "L1_01.PT1"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	PAT_BANK	12		; ‚a‚`‚m‚j”‚P‚Q(”‚P‘O”¼)
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»

	MOV	OCHI_VIEW_FL_CT,'1'
	MOV	SI,OFFSET OCHI_VIEW_FL	; ƒIƒ`ƒpƒ^[ƒ“ƒtƒ@ƒCƒ‹–¼ "L1_01.PT1"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh

	RET
FEND	PPT_OCHI_LD


;	ƒIƒ`‚ÌŠG‚o‚t‚s
;	-I- DX : ‰½”Ô–Ú‚©
;	    AX : ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚wˆÊ’u
;	    BX : ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚xˆÊ’u

FUNC	PPT_OCHI_PUT,PT_OCHI_PUT
	MOV	XX1,AX			; ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚wˆÊ’u
	MOV	YY1,BX			; ƒCƒxƒ“ƒgƒEƒCƒ“ƒhƒE‚xˆÊ’u

;;CODE_IN
;;	PRV	"‰½”Ô–Ú=",DX
;;CODE_OUT

	CMP	DX,1			;
	JE	PT_OCHI_PUT_CUT1	;
	CMP	DX,2			;
	JE	PT_OCHI_PUT_CUT2	;
	CMP	DX,3			;
	JE	PT_OCHI_PUT_CUT3	;

PT_OCHI_PUT_CUT1:
	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD		1		;
	MOV	NUM,0			;
	JMP	PT_OCHI_PUT_PUT		;
PT_OCHI_PUT_CUT2:
	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	PLSMD		1		;
	MOV	NUM,1			;
	JMP	PT_OCHI_PUT_PUT		;
PT_OCHI_PUT_CUT3:
	PAT_BANK	12		; ‚a‚`‚m‚j”‚P‚Q(”‚P‘O”¼)
	PLSMD		1		;
	MOV	NUM,0			;
PT_OCHI_PUT_PUT:
	MOV	AX,1			; 0=’Êí,1=ƒpƒ^[ƒ“‚o‚t‚sƒI[ƒoƒ‰ƒbƒv
	CALLC	PATEFC			; ƒp[ƒc‚o‚t‚sƒGƒtƒFƒNƒg
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	MOV	AX,0			; 0=’Êí,1=ƒpƒ^[ƒ“‚o‚t‚sƒI[ƒoƒ‰ƒbƒv
	CALLC	PATEFC			; ƒp[ƒc‚o‚t‚sƒGƒtƒFƒNƒg
	RET
FEND	PPT_OCHI_PUT


; ***********************************************
;	ƒoƒJƒ“ƒXŠÖŒW
; ***********************************************

;	ƒoƒJƒ“ƒX‚ÌŠGƒ[ƒh
;	-I- DX : ­—i¬’·‚P,¬’·‚Q,¬’·‚R,¬’·‚Sj
;	    CX : ‹Gßi1:tC2:‰ÄC3:HC4:“~j

FUNC	PPT_BACA_LD,PT_BACA_LD
	PUSH	CX
	INC	DX			;+1
	SHR	DX,1			; / 2 i¬’·‚P‚©‚ç‚W‚Ü‚Å‚QƒXƒeƒbƒvj
	CALLC	DECSTR				; 1,2,3,4 (¬’·)
	MOVXB	FL_BACA_L_AGE,DS:[SI][4]	; "9"<-"00009"
	MOVXB	FL_BACA_R_AGE,DS:[SI][4]	; "9"<-"00009"
	POP	DX
	CALLC	DECSTR				; 1,2,3,4 (‹Gß)
	MOVXB	FL_BACA_L_SEA,DS:[SI][4]	; "9"<-"00009"
	MOVXB	FL_BACA_R_SEA,DS:[SI][4]	; "9"<-"00009"

	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	MOV	SI,OFFSET FL_BACA_L	; ƒoƒJƒ“ƒX¶ "XC1-01.PT1"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh
	PAT_BANK	1		; ‚a‚`‚m‚j”‚P
	CALL	FILE_INIT		; ƒ[ƒh‰Šú‰»
	MOV	SI,OFFSET FL_BACA_R	; ƒoƒJƒ“ƒX‰E "XC1-01.PT1"
	CALLC	PATLDA			; ƒp[ƒc’Ç‰Áƒ[ƒh
	RET
FEND	PPT_BACA_LD

;	ƒoƒJƒ“ƒX‚ÌŠG‚o‚t‚s

FUNC	PPT_BACA_PUT,PT_BACA_PUT
	MOV	XX1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚wÀ•W
	MOV	YY1,0			; ‚o‚t‚sƒIƒtƒZƒbƒg@‚xÀ•W
	PLSMD		1		;
	PAT_BANK	0		; ‚a‚`‚m‚j”‚O
	MOV	NUM,1			; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	PAT_BANK	1		; ‚a‚`‚m‚j”‚P
	MOV	NUM,1			; ƒpƒ^[ƒ“”Ô†
	CALL	PATTAN_PUT		; ƒpƒ^[ƒ“‚o‚t‚s
	PALET_SET	0		;
	RET
FEND	PPT_BACA_PUT


; ***********************************************
;	ƒpƒ^[ƒ“‚o‚t‚s
;	-I- XX1 : ‚o‚t‚sƒIƒtƒZƒbƒg@‚wÀ•W
;	    YY1 : ‚o‚t‚sƒIƒtƒZƒbƒg@‚xÀ•W
;	    NUM : ƒpƒ^[ƒ“”Ô†
; ***********************************************

PATTAN_PUT	PROC	NEAR
	MOV	CX,NUM		; ƒpƒ^[ƒ“”Ô†
	CALLC	PATSIZ		; ƒp[ƒcƒTƒCƒY‚Ì‚f‚d‚s
	MOV	AX,VRX		; ‚wÀ•W
	MOV	BX,VRY		; ‚xÀ•W
	ADD	AX,XX1		; ‚o‚t‚s@‚wÀ•W
	ADD	BX,YY1		; ‚o‚t‚s@‚xÀ•W
	MOV	CX,NUM		; ƒpƒ^[ƒ“”Ô†
	CALL	MOUSE_STOP	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹‘Þ”ð

	PAT_PUT	NUM,XX1,YY1		; ƒpƒ^[ƒ“‚o‚t‚s

	CALL	MOUSE_START	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹•œ‹A
	RET
PATTAN_PUT	ENDP


; ***********************************************
;	ƒpƒ^[ƒ“‚o‚t‚sÀ•WŽw’è
;	-I- XX1 : ‚o‚t‚s‚wÀ•W
;	    YY1 : ‚o‚t‚s‚xÀ•W
;	    NUM : ƒpƒ^[ƒ“”Ô†
; ***********************************************

PATTAN_PTX	PROC	NEAR
	MOV	CX,NUM		; ƒpƒ^[ƒ“”Ô†
	CALLC	PATSIZ		; ƒp[ƒcƒTƒCƒY‚Ì‚f‚d‚s
	MOV	AX,VRX		; ‚wÀ•W
	MOV	BX,VRY		; ‚xÀ•W
	ADD	AX,XX1		; ‚o‚t‚s@‚wÀ•W
	ADD	BX,YY1		; ‚o‚t‚s@‚xÀ•W
	MOV	CX,NUM		; ƒpƒ^[ƒ“”Ô†
	CALL	MOUSE_STOP	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹‘Þ”ð

	PAT_PTX	NUM,XX1,YY1		; ƒpƒ^[ƒ“‚o‚t‚s

	CALL	MOUSE_START	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹•œ‹A
	RET
PATTAN_PTX	ENDP


; ***********************************************
;	ƒ}ƒXƒNƒpƒ^[ƒ“‚o‚t‚s
;	-I- XX1 : ‚o‚t‚s@‚wÀ•W
;	    YY1 : ‚o‚t‚s@‚xÀ•W
;	    NUM : ƒpƒ^[ƒ“”Ô†
; ***********************************************

MASK_PUT	PROC	NEAR
	MOV	AX,XX1		; ‚o‚t‚s@‚wÀ•W
	MOV	BX,YY1		; ‚o‚t‚s@‚xÀ•W
	MOV	CX,NUM		; ƒpƒ^[ƒ“”Ô†
	CALL	MOUSE_STOP	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹‘Þ”ð

	MOV	DX,1		;
	CALLC	PATOPE		; ƒIƒyƒŒ[ƒVƒ‡ƒ“ƒZƒbƒg(µÍßÚ°¼®Ý 0=normal,1=OR )

	MOVX	VRX,XX1		; ‚wÀ•W
	MOVX	VRY,YY1		; ‚xÀ•W
	MOV	CX,NUM		; ƒ}ƒXƒN
	CALLC	PATPXM		; ƒ}ƒXƒNƒp[ƒc‚o‚t‚sÀ•WŽw’è

	MOVX	VRX,XX1		; ‚wÀ•W
	MOVX	VRY,YY1		; ‚xÀ•W
	MOV	CX,NUM		; –{‘Ì
	INC	CX		;
	CALLC	PATPTX		; ƒpƒ^[ƒ“‚o‚t‚s

	MOV	DX,0		;
	CALLC	PATOPE		; ƒIƒyƒŒ[ƒVƒ‡ƒ“ƒZƒbƒg(µÍßÚ°¼®Ý 0=normal,1=OR )

	CALL	MOUSE_START	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹•œ‹A
	RET
MASK_PUT	ENDP



; ***********************************************
;	ƒ}ƒXƒNƒpƒ^[ƒ“ƒIƒtƒZƒbƒg‚o‚t‚s
;	-I- XX1 : ƒIƒtƒZƒbƒg‚wÀ•W
;	    YY1 : ƒIƒtƒZƒbƒg‚xÀ•W
;	    NUM : ƒpƒ^[ƒ“”Ô†
; ***********************************************

MASK_PTF	PROC	NEAR
	MOV	CX,NUM		; ƒpƒ^[ƒ“”Ô†
	CALLC	PATSIZ		; ƒp[ƒcƒTƒCƒY‚Ì‚f‚d‚s
	MOV	AX,VRX		; ‚wÀ•W
	MOV	BX,VRY		; ‚xÀ•W
	ADD	AX,XX1		; ‚o‚t‚s@‚wÀ•W
	ADD	BX,YY1		; ‚o‚t‚s@‚xÀ•W
	MOV	CX,NUM		; ƒpƒ^[ƒ“”Ô†
	CALL	MOUSE_STOP	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹‘Þ”ð

	MOV	DX,1		;
	CALLC	PATOPE		; ƒIƒyƒŒ[ƒVƒ‡ƒ“ƒZƒbƒg(µÍßÚ°¼®Ý 0=normal,1=OR )

	MOVX	VRX,XX1		; ‚wÀ•W
	MOVX	VRY,YY1		; ‚xÀ•W
	MOV	CX,NUM		; ƒ}ƒXƒN
	CALLC	PATPFM		; ƒ}ƒXƒNƒp[ƒc‚o‚t‚sƒIƒtƒZƒbƒgŽw’è

	MOVX	VRX,XX1		; ‚wÀ•W
	MOVX	VRY,YY1		; ‚xÀ•W
	MOV	CX,NUM		; –{‘Ì
	INC	CX		;
	CALLC	PATPTF		; ƒp[ƒc‚o‚t‚sƒIƒtƒZƒbƒgŽw’è

	MOV	DX,0		;
	CALLC	PATOPE		; ƒIƒyƒŒ[ƒVƒ‡ƒ“ƒZƒbƒg(µÍßÚ°¼®Ý 0=normal,1=OR )

	CALL	MOUSE_START	; ƒ}ƒEƒXƒJ[ƒ\ƒ‹•œ‹A
	RET
MASK_PTF	ENDP



; ***********************************************
;	ƒ}ƒEƒXƒJ[ƒ\ƒ‹‘Þ”ð
;	-I- AX         : ‚o‚t‚s@‚wÀ•W
;	    BX         : ‚o‚t‚s@‚xÀ•W
;	    CX         : ƒpƒ^[ƒ“”Ô†
;	-O- FLAG_MOUSE : 0=’Êí,1=ƒ}ƒEƒX‘Þ”ð‚ ‚è
; ***********************************************

MOUSE_STOP	PROC	NEAR
	PUSH	AX
	PUSH	BX
	PUSH	CX
	PUSH	DX
	PUSH	VRX
	PUSH	VRY
	PUSH	XX1
	PUSH	YY1
	PUSH	NUM

	CMP	FLAG_MOUSE2,1		; 0=’Êí,1=ƒ}ƒEƒX‘Þ”ð‚ ‚è
	JMPEQ	MOUSE_STOP_SKIP		;

	PUSH	AX			;
	PUSH	BX			;
	PUSH	CX			;
	CALLC	MSCSTS			; ƒ}ƒEƒXƒJ[ƒ\ƒ‹ƒXƒe[ƒ^ƒX
	CMP	AX,0			; 0=ƒ}ƒEƒX‚n‚e‚e
	POP	CX			;
	POP	BX			;
	POP	AX			;
	JMPEQ	MOUSE_STOP_SKIP		;


	MOV	NUM,CX			; ƒpƒ^[ƒ“”Ô†

	MOV	XX1,AX			; ‚o‚t‚s‚w
	MOV	YY1,BX			; ‚o‚t‚s‚x

	MOV	VRX,AX			; ‚wÀ•W
	MOV	VRY,BX			; ‚xÀ•W
	MOV	CX,NUM			; ƒpƒ^[ƒ“”Ô†
	CALLC	PATSIZ			; ƒp[ƒcƒTƒCƒY‚Ì‚f‚d‚s

	MOV	AX,XX1			; ‚w‚P
	MOV	BX,YY1			; ‚x‚P
	ADD	AX,VRLENX		;
	ADD	BX,VRLENY		;
	DEC	AX			;
	DEC	BX			;
	MOV	XX2,AX			; ‚w‚Q
	MOV	YY2,BX			; ‚x‚Q

	CALLC	MSCPNT			; ƒJ[ƒ\ƒ‹•\Ž¦ˆÊ’u
	ARACHK	XX1,YY1,XX2,YY2,MOUSE_STOP_EXIT
	XCHG	BX,DX			; ‚xÀ•W
	ARACHK	XX1,YY1,XX2,YY2,MOUSE_STOP_EXIT
	XCHG	AX,CX			; ‚wÀ•W
	ARACHK	XX1,YY1,XX2,YY2,MOUSE_STOP_EXIT
	XCHG	BX,DX			; ‚xÀ•W
	ARACHK	XX1,YY1,XX2,YY2,MOUSE_STOP_EXIT
	XCHG	AX,CX			; ‚wÀ•W
	ARACHK2	XX1,YY1,MOUSE_STOP_EXIT
	ARACHK2	XX2,YY1,MOUSE_STOP_EXIT
	ARACHK2	XX1,YY2,MOUSE_STOP_EXIT
	ARACHK2	XX2,YY2,MOUSE_STOP_EXIT

	ADD	AX,CX			; ƒ}ƒEƒX‚Ì’†S‚ªƒpƒ^[ƒ“‚Éæ‚é
	SHR	AX,1			; / 2
	ADD	BX,DX			; ƒ}ƒEƒX‚Ì’†S‚ªƒpƒ^[ƒ“‚Éæ‚é
	SHR	BX,1			; / 2
	ARACHK	XX1,YY1,XX2,YY2,MOUSE_STOP_EXIT

	JMP	MOUSE_STOP_SKIP		;

MOUSE_STOP_EXIT:

	CALLC	MSCSTP			; ƒJ[ƒ\ƒ‹ƒXƒgƒbƒv

	MOV	FLAG_MOUSE,1		; 1=ƒ}ƒEƒX‘Þ”ð‚ ‚è

	JMP	MOUSE_STOP_FIN		;

MOUSE_STOP_SKIP:
	MOV	FLAG_MOUSE,0		; 0=’Êí

MOUSE_STOP_FIN:
	POP	NUM			;
	POP	YY1			;
	POP	XX1			;
	POP	VRY			;
	POP	VRX			;
	POP	DX			;
	POP	CX			;
	POP	BX			;
	POP	AX			;
	RET				;
MOUSE_STOP	ENDP



; ***********************************************
;	ƒ}ƒEƒXƒJ[ƒ\ƒ‹•œ‹A
;	-I/O- FLAG_MOUSE : 0=’Êí,1=ƒ}ƒEƒX‘Þ”ð‚ ‚è
; ***********************************************

MOUSE_START	PROC	NEAR
	CMP	FLAG_MOUSE2,1		; 0=’Êí,1=ƒ}ƒEƒX‘Þ”ð‚ ‚è
	JE	MOUSE_START_EXIT	;

	CMP	FLAG_MOUSE,0		; 0=’Êí,1=ƒ}ƒEƒX‘Þ”ð‚ ‚è
	JE	MOUSE_START_EXIT	;

	CALLC	MSCSRT			; ƒJ[ƒ\ƒ‹ƒXƒ^[ƒg

	MOV	FLAG_MOUSE,0		; 0=’Êí
MOUSE_START_EXIT:
	RET
MOUSE_START	ENDP



; ***********************************************
;	ƒ}ƒEƒXƒJ[ƒ\ƒ‹‘Þ”ð
;	-I- AX         : ¶ã‚wÀ•W
;	    BX         : ¶ã‚xÀ•W
;	    CX         : ‚wƒTƒCƒY
;	    DX         : ‚xƒTƒCƒY
; ***********************************************

FUNC	MMS_STOP,MS_STOP
	PUSH	AX
	PUSH	BX
	PUSH	CX
	PUSH	DX
	PUSH	VRX
	PUSH	VRY
	PUSH	XX1
	PUSH	YY1
	PUSH	NUM

	MOV	XX1,AX			; ‚o‚t‚s‚w
	MOV	YY1,BX			; ‚o‚t‚s‚x
	MOV	XX2,AX			; ‚w‚Q
	MOV	YY2,BX			; ‚x‚Q
	ADD	XX2,CX			; ‚w‚Q
	ADD	YY2,DX			; ‚x‚Q

	CALLC	MSCSTS			; ƒ}ƒEƒXƒJ[ƒ\ƒ‹ƒXƒe[ƒ^ƒX
	CMP	AX,0			; 0=ƒ}ƒEƒX‚n‚e‚e
	JMPEQ	MS_STOP_SKIP		;

	CALLC	MSCPNT			; ƒJ[ƒ\ƒ‹•\Ž¦ˆÊ’u

	ARACHK	XX1,YY1,XX2,YY2,MS_STOP_EXIT
	XCHG	BX,DX			; ‚xÀ•W
	ARACHK	XX1,YY1,XX2,YY2,MS_STOP_EXIT
	XCHG	AX,CX			; ‚wÀ•W
	ARACHK	XX1,YY1,XX2,YY2,MS_STOP_EXIT
	XCHG	BX,DX			; ‚xÀ•W
	ARACHK	XX1,YY1,XX2,YY2,MS_STOP_EXIT
	XCHG	AX,CX			; ‚wÀ•W
	ARACHK2	XX1,YY1,MS_STOP_EXIT
	ARACHK2	XX2,YY1,MS_STOP_EXIT
	ARACHK2	XX1,YY2,MS_STOP_EXIT
	ARACHK2	XX2,YY2,MS_STOP_EXIT

	JMP	MS_STOP_SKIP		;

MS_STOP_EXIT:
	CALLC	MSCSTP			; ƒJ[ƒ\ƒ‹ƒXƒgƒbƒv

	MOV	FLAG_MOUSE2,1		; 1=ƒ}ƒEƒX‘Þ”ð‚ ‚è

	JMP	MS_STOP_FIN		;

MS_STOP_SKIP:
	MOV	FLAG_MOUSE2,0		; 0=’Êí

MS_STOP_FIN:
	POP	NUM			;
	POP	YY1			;
	POP	XX1			;
	POP	VRY			;
	POP	VRX			;
	POP	DX			;
	POP	CX			;
	POP	BX			;
	POP	AX			;
	RET				;
FEND	MMS_STOP


; ***********************************************
;	ƒ}ƒEƒXƒJ[ƒ\ƒ‹‘Þ”ði‹­§‚n‚e‚ej
;	-I- AX         : ¶ã‚wÀ•W
;	    BX         : ¶ã‚xÀ•W
;	    CX         : ‚wƒTƒCƒY
;	    DX         : ‚xƒTƒCƒY
; ***********************************************

FUNC	MMS_STOP_S,MS_STOP_S
	CALLC	MSCSTP			; ƒJ[ƒ\ƒ‹ƒXƒgƒbƒv
	MOV	FLAG_MOUSE2,1		; 1=ƒ}ƒEƒX‘Þ”ð‚ ‚è
	RET
FEND	MMS_STOP_S



; ***********************************************
;	ƒ}ƒEƒXƒJ[ƒ\ƒ‹•œ‹A
;	-I/O- FLAG_MOUSE2 : 0=’Êí,1=ƒ}ƒEƒX‘Þ”ð‚ ‚è
; ***********************************************

FUNC	MMS_START,MS_START
	CMP	FLAG_MOUSE2,0		; 0=’Êí,1=ƒ}ƒEƒX‘Þ”ð‚ ‚è
	JE	MS_START_EXIT		;

	CALLC	MSCSRT			; ƒJ[ƒ\ƒ‹ƒXƒ^[ƒg

	MOV	FLAG_MOUSE2,0		; 0=’Êí
MS_START_EXIT:
	RET
FEND	MMS_START



; ***********************************************
;	ƒ[ƒh‰Šú‰»
; ***********************************************

FILE_INIT	PROC	NEAR
	PUSH	AX
	PUSH	BX
	PUSH	CX
	PUSH	DX
	CALLC	PATCLR		; ƒp[ƒcƒZƒbƒgƒNƒŠƒA
	POP	DX
	POP	CX
	POP	BX
	POP	AX
	RET
FILE_INIT	ENDP

R_SEG2	ENDS


DATA	SEGMENT	WORD PUBLIC	'DATA'

EXTRN	ARA005:WORD		; ‰¼‘z‚u‚q‚`‚lƒvƒŒ[ƒ“‚Tiƒp[ƒc”‚P/200j

EXTRN	W_GIRL_GROW:WORD	; ­—i¬’·‚P,¬’·‚Q,¬’·‚R,¬’·‚Sj

	EXTRN	GX1:WORD		; ‚f‚c‚bŠÖŒW ('GRBIO.ASM')
	EXTRN	GY1:WORD		;
	EXTRN	GX2:WORD		;
	EXTRN	GY2:WORD		;
	EXTRN	GMODE:WORD		;
	EXTRN	GCODE:WORD		;
	EXTRN	GCLR:WORD		;
	EXTRN	GRD:WORD		;

	EXTRN	SSGR0:WORD		; visual data segment plean 0
	EXTRN	SSGR1:WORD		; visual data segment plean 1
	EXTRN	SSGR2:WORD		; visual data segment plean 2
	EXTRN	SSGR3:WORD		; visual data segment plean 3

	EXTRN	SSDEST:WORD		; visual data segment plean.
	EXTRN	SSDES0:WORD		; visual data segment plean 0
	EXTRN	SSDES1:WORD		; visual data segment plean 1
	EXTRN	SSDES2:WORD		; visual data segment plean 2
	EXTRN	SSDES3:WORD		; visual data segment plean 3

	EXTRN	SSSOUR:WORD		; visual data segment plean.
	EXTRN	SSSOU0:WORD		; visual data segment plean 0
	EXTRN	SSSOU1:WORD		; visual data segment plean 1
	EXTRN	SSSOU2:WORD		; visual data segment plean 2
	EXTRN	SSSOU3:WORD		; visual data segment plean 3

	EXTRN	SSEFCT:WORD		; visual data segment plean.
	EXTRN	SSEFC0:WORD		; visual data segment plean 0
	EXTRN	SSEFC1:WORD		; visual data segment plean 1
	EXTRN	SSEFC2:WORD		; visual data segment plean 2
	EXTRN	SSEFC3:WORD		; visual data segment plean 3

	EXTRN	VX1:WORD		; source point x1.
	EXTRN	VY1:WORD		; source point y1.
	EXTRN	VX2:WORD		; length x2.
	EXTRN	VY2:WORD		; length y2.
	EXTRN	VX3:WORD		; destination point x3.
	EXTRN	VY3:WORD		; destination point y3.

	EXTRN	VCOL:WORD		; color.

	EXTRN	VRX:WORD		; x point.
	EXTRN	VRY:WORD		; y point.

	EXTRN	VRLENX:WORD		; x length.
	EXTRN	VRLENY:WORD		; y length.

	EXTRN	ARAVRM:WORD		; ‚u‚q‚`‚lƒvƒŒ[ƒ“
	EXTRN	ARA001:WORD		; ‰¼‘z‚u‚q‚`‚lƒvƒŒ[ƒ“‚P
	EXTRN	ARA002:WORD		; ‰¼‘z‚u‚q‚`‚lƒvƒŒ[ƒ“‚Q
	EXTRN	ARA003:WORD		; ‰¼‘z‚u‚q‚`‚l‚Ri‚Q‚O‚Oƒ‰ƒCƒ“j

	EXTRN	CLRCDE:WORD		; color code.
	EXTRN	CLRVEW:WORD		; color view.
	EXTRN	CLRCNS:WORD		; contrast.
	EXTRN	CLRBRI:WORD		; brightness.

	EXTRN	CRXVEW:WORD		; F‘Š‰ñ“]i‚O[‚R‚U‚Oj
	EXTRN	CRXCNS:WORD		; Ê“x”{—¦i‚O[‚P‚O‚Oj
	EXTRN	CRXBRI:WORD		; –¾“x”{—¦i‚O[‚P‚O‚Oj
	EXTRN	CRXWHI:WORD		; ƒzƒƒCƒgƒŒƒxƒ‹i‚O[‚P‚O‚Oj

	EXTRN	CBLUE:WORD		; blue  value (0-15)
	EXTRN	CRED:WORD		; red   value (0-15)
	EXTRN	CGREEN:WORD		; green value (0-15)

	EXTRN	CLRSOU:WORD		; •ÏXƒJƒ‰[ƒpƒŒƒbƒg
	EXTRN	CLRDES:WORD		; •ÏXŒãƒJƒ‰[ƒpƒŒƒbƒg

	EXTRN	CRTSKP:WORD		; ƒpƒŒƒbƒg•ÒWˆ—‚ÌƒXƒLƒbƒv(1=½·¯Ìß)

	EXTRN	WDXX:WORD		; WINDOWS/point x.
	EXTRN	WDYY:WORD		; WINDOWS/point y.
	EXTRN	WDX1:WORD		; WINDOWS/ point x1.
	EXTRN	WDY1:WORD		; WINDOWS/ point y1.
	EXTRN	WDX2:WORD		; WINDOWS/ point x2.
	EXTRN	WDY2:WORD		; WINDOWS/ point y2.
	EXTRN	WDHNO:WORD		; WINDOWS/ƒwƒbƒ_[”Ô†
	EXTRN	WDGNO:WORD		; WINDOWS/‰¡ƒOƒ‰ƒt”Ô†
	EXTRN	WDVNO:WORD		; WINDOWS/“à—e•\Ž¦”Ô†
	EXTRN	WDSTR:WORD		; WINDOWS/•\Ž¦ƒpƒ‰ƒ[ƒ^–¼
	EXTRN	WDVAL:WORD		; WINDOWS/•\Ž¦’l
	EXTRN	WDBLNC:WORD		; WINDOWS/•\Ž¦ƒoƒ‰ƒ“ƒX’l
	EXTRN	WDNAME:WORD		; WINDOWS/•\Ž¦–¼‘O
	EXTRN	WDTIME:WORD		; WINDOWS/•\Ž¦ŽžŠÔ’l
	EXTRN	WDINO:WORD		; WINDOWS/ƒAƒCƒeƒ€ƒIƒtƒZƒbƒg
	EXTRN	WDILIST:WORD		; WINDOWS/ƒXƒ^ƒCƒ‹ƒŠƒXƒgƒIƒtƒZƒbƒg
	EXTRN	WDP_VAL:WORD		; WINDOWS/“à—e•\Ž¦’l
	EXTRN	WDP_UNIT:WORD		; WINDOWS/“à—e•\Ž¦’PˆÊŒn
	EXTRN	WD_NONE_CHR:BYTE	; WINDOWS/–³ŒøƒLƒƒƒ‰ƒNƒ^
	EXTRN	WDTXTSEG:WORD		; WINDOWS/•\Ž¦•¶Žš—ñƒZƒOƒƒ“ƒg
	EXTRN	WDTXTADR:WORD		; WINDOWS/•\Ž¦•¶Žš—ñƒAƒhƒŒƒX
	EXTRN	WDBTNNUM:WORD		; WINDOWS/‘I‘ðƒ{ƒ^ƒ“”Ô†
	EXTRN	WDBTNPUSH:WORD		; WINDOWS/ƒ{ƒ^ƒ“‰Ÿ‚µ‚½
	EXTRN	WDMSX:WORD		; WINDOWS/ƒ}ƒEƒX‚w
	EXTRN	WDMSY:WORD		; WINDOWS/ƒ}ƒEƒX‚x
	EXTRN	WDMSL:WORD		; WINDOWS/ƒ}ƒEƒX¶ƒ{ƒ^ƒ“
	EXTRN	WDMSR:WORD		; WINDOWS/ƒ}ƒEƒX‰Eƒ{ƒ^ƒ“
	EXTRN	WDPCLM:WORD		; WINDOWS/‡˜
	EXTRN	WDPLIN:WORD		; WINDOWS/s

	EXTRN	W_COL1:WORD		; WINDOWS/ƒJƒ‰[EƒnƒCƒ‰ƒCƒg
	EXTRN	W_COL2:WORD		; WINDOWS/ƒJƒ‰[E–¾‚é‚¢ŠD
	EXTRN	W_COL3:WORD		; WINDOWS/ƒJƒ‰[EˆÃ‚¢ŠD
	EXTRN	W_COL4:WORD		; WINDOWS/ƒJƒ‰[E•
	EXTRN	W_COL5:WORD		; WINDOWS/ƒJƒ‰[EˆÃ‚¢F

	EXTRN	ATMSEG:WORD		; WINDOWS/ƒeƒLƒXƒgƒoƒbƒtƒ@ƒZƒOƒƒ“ƒg
	EXTRN	ATMTBL:WORD		; WINDOWS/•\Ž¦’PŒêƒAƒhƒŒƒX
	EXTRN	ATMTLN:WORD		; WINDOWS/•\Ž¦’PŒê’·‚³
	EXTRN	ATMVAL:WORD		; WINDOWS/•\Ž¦’PŒê‚Ì”’l
	EXTRN	ATMMAX:WORD		; WINDOWS/•\Ž¦’PŒê‚Ì”
	EXTRN	ATMDIM:WORD	 	; WINDOWS/•\Ž¦’PŒê‚Ìƒe[ƒuƒ‹ƒTƒCƒY

	EXTRN	STR_BUFF:BYTE		; •¶Žš—ñƒoƒbƒtƒ@
	EXTRN	STR_VAL_BUFF:BYTE	; •\Ž¦’l•¶Žš—ñƒoƒbƒtƒ@

GIRL_OFS_TBL	LABEL	BYTE		; –º‚Ì•\Ž¦ˆÊ’uƒIƒtƒZƒbƒg
		DB	0		;base.
		DB	-2		;1/10
		DB	+2		;2/11
		DB	0		;3/12
		DB	0		;4/13
		DB	0		;5/14
		DB	+6		;6/15
		DB	0		;7/16
		DB	+6		;8/17
		EVEN

XX1		DW	0
YY1		DW	0
XX2		DW	0
YY2		DW	0
NUM		DW	0

BGNUM		DW	0		; ‚a‚f”Ô†
TONUM		DW	0		; “¬Žm”Ô†
SHNUM		DW	0		; Žt”Í”Ô†
MNNUM		DW	0		; ƒ‚ƒ“ƒXƒ^[”Ô†
GLNUM		DW	0		; ƒ€ƒXƒ”Ô†
FCNUM		DW	0		; ƒtƒFƒCƒX”Ô†

NUM_MONTH	DW	0		; ‚‚‚Ž‚”‚ˆ
NUM_WEEK	DW	0		; ‚—‚…‚…‚‹
NUM_DAYS	DW	0		; ‚„‚‚™‚“

FLAG_MOUSE	DW	0		; 0=’Êí,1=ƒ}ƒEƒX‘Þ”ð‚ ‚è
FLAG_MOUSE2	DW	0		; 0=’Êí,1=ƒ}ƒEƒX‘Þ”ð‚ ‚è

CBASE_MAX	DW	8		; ƒLƒƒƒ‰¬’·”
CBASE_DMAX	DW	4		; ƒLƒƒƒ‰•žƒpƒ^[ƒ“”
CBASE_FMAX	DW	3		; ƒLƒƒƒ‰Šçƒpƒ^[ƒ“”

CBASE_BD	DB	"CB"		; ƒLƒƒƒ‰‘Ìƒtƒ@ƒCƒ‹–¼
CBASE_BDSC	DB	"?",0		; ƒLƒƒƒ‰‘Ì¬’·

CBASE_DRESS	DB	"CB"		; ƒLƒƒƒ‰•žƒtƒ@ƒCƒ‹–¼
CBASE_DSC	DB	"?D"		; ƒLƒƒƒ‰•ž¬’·
CBASE_DSEE	DB	"?",0		; ƒLƒƒƒ‰•ž‹Gß

CBASE_FACE	DB	"CB"		; ƒLƒƒƒ‰Šçƒtƒ@ƒCƒ‹–¼
CBASE_FSC	DB	"?F"		; ƒLƒƒƒ‰Šç¬’·
CBASE_FSEE	DB	"?",0		; ƒLƒƒƒ‰Šç‹Gß

IVENT_VIEW_MAX	DW	9		; ƒCƒxƒ“ƒgƒpƒ^[ƒ“”
IVENT_VIEW	LABEL	WORD		; ƒCƒxƒ“ƒgƒpƒ^[ƒ“
		DW	OFFSET IVE_01	;**0
		DW	OFFSET IVE_01	;1=‰¤—l‚Æ‚Ì‰ïŒ©
		DW	OFFSET IVE_02	;2=’¬‚Ì•]”»
		DW	OFFSET IVE_03	;3=ƒXƒe[ƒ^ƒX
		DW	OFFSET IVE_04	;4=–º‚Æ˜b‚·
		DW	OFFSET IVE_05	;5=”ƒ•¨
		DW	OFFSET IVE_06	;6=•Œ|“¹ê
		DW	OFFSET IVE_07	;7=Šw–âê
		DW	OFFSET IVE_08	;8=—ç–@‚Ì“¹ê
		DW	OFFSET IVE_09	;9=‹x‘§
IVE_01	DB	"I4_01",0
IVE_02	DB	"I4_02",0
IVE_03	DB	"I4_03",0
IVE_04	DB	"I4_04",0
IVE_05	DB	"I4_05",0
IVE_06	DB	"I2_01",0
IVE_07	DB	"I2_02",0
IVE_08	DB	"I2_03",0
IVE_09	DB	"I3_01",0

IVENT_VWWK_MAX	DW	12		; s‚¢ƒCƒxƒ“ƒgƒpƒ^[ƒ“”
IVENT_VWWK	DB	"I1_"		; s‚¢ƒCƒxƒ“ƒgƒpƒ^[ƒ“
IVENT_VWWK_NUM	DB	"??",0		; s‚¢ƒCƒxƒ“ƒgƒpƒ^[ƒ“

FL_TOHS_MAX	DW	24		; “¬Žm‚l‚`‚w
FL_TOHS		DB	"E1_"		; ƒtƒFƒCƒX "E1_00.PT1"
FL_TOHS_NUM	DB	"??",0		; “¬Žm”Ô†

FL_SHIHAN_MAX	DW	3		; Žt”Í‚l‚`‚w
FL_SHIHAN	DB	"E3_"		; ƒtƒFƒCƒX "E3_00.PT1"
FL_SHIHAN_NUM	DB	"??",0		; Žt”Í”Ô†

;*;FL_TOHS	LABEL	WORD		; “¬Žm
;*;		DW	OFFSET THS_00	;
;*;		DW	OFFSET THS_00	; “¬Žm”Ô†‚P‚ÍŽ©•ª‚Ì–º
;*;		DW	OFFSET THS_01
;*;		DW	OFFSET THS_02
;*;		DW	OFFSET THS_03
;*;		DW	OFFSET THS_04
;*;		DW	OFFSET THS_05
;*;		DW	OFFSET THS_06
;*;		DW	OFFSET THS_07
;*;		DW	OFFSET THS_08
;*;		DW	OFFSET THS_09
;*;		DW	OFFSET THS_10
;*;		DW	OFFSET THS_11
;*;		DW	OFFSET THS_12
;*;		DW	OFFSET THS_13
;*;		DW	OFFSET THS_14
;*;		DW	OFFSET THS_15
;*;		DW	OFFSET THS_16
;*;		DW	OFFSET THS_17
;*;		DW	OFFSET THS_18
;*;		DW	OFFSET THS_19
;*;		DW	OFFSET THS_20
;*;		DW	OFFSET THS_21
;*;		DW	OFFSET THS_22
;*;		DW	OFFSET THS_23
;*;THS_00	DB	"E1_00",0
;*;THS_01	DB	"E1_01",0
;*;THS_02	DB	"E1_02",0
;*;THS_03	DB	"E1_03",0
;*;THS_04	DB	"E1_04",0
;*;THS_05	DB	"E1_05",0
;*;THS_06	DB	"E1_06",0
;*;THS_07	DB	"E1_07",0
;*;THS_08	DB	"E1_08",0
;*;THS_09	DB	"E1_09",0
;*;THS_10	DB	"E1_10",0
;*;THS_11	DB	"E1_11",0
;*;THS_12	DB	"E1_12",0
;*;THS_13	DB	"E1_13",0
;*;THS_14	DB	"E1_14",0
;*;THS_15	DB	"E1_15",0
;*;THS_16	DB	"E1_16",0
;*;THS_17	DB	"E1_17",0
;*;THS_18	DB	"E1_18",0
;*;THS_19	DB	"E1_19",0
;*;THS_20	DB	"E1_20",0
;*;THS_21	DB	"E1_21",0
;*;THS_22	DB	"E1_22",0
;*;THS_23	DB	"E1_23",0

FL_TK_MAX	DW	10		; ƒ‚ƒ“ƒXƒ^[‚l‚`‚w
FL_TK		DB	"E2_"		; ƒ‚ƒ“ƒXƒ^[ "E2_01.PT1"
FL_TK_NUM	DB	"??",0		; ƒ‚ƒ“ƒXƒ^[”Ô†

;*;FL_TK		LABEL	WORD		; ƒ‚ƒ“ƒXƒ^[
;*;		DW	OFFSET TKF_01	;**0
;*;		DW	OFFSET TKF_01
;*;		DW	OFFSET TKF_02
;*;		DW	OFFSET TKF_03
;*;		DW	OFFSET TKF_04
;*;		DW	OFFSET TKF_05
;*;		DW	OFFSET TKF_06
;*;		DW	OFFSET TKF_07
;*;		DW	OFFSET TKF_08
;*;		DW	OFFSET TKF_09
;*;		DW	OFFSET TKF_10
;*;TKF_01	DB	"E2_01",0
;*;TKF_02	DB	"E2_02",0
;*;TKF_03	DB	"E2_03",0		; ŽR”L
;*;TKF_04	DB	"E2_04",0
;*;TKF_05	DB	"E2_05",0		; ƒI[ƒN
;*;TKF_06	DB	"E2_06",0
;*;TKF_07	DB	"E2_07",0
;*;TKF_08	DB	"E2_08",0
;*;TKF_09	DB	"E2_09",0		; ƒgƒ‰
;*;TKF_10	DB	"E2_10",0		; ƒhƒ‰ƒSƒ“

FL_MYGL_F_SCC	DB	"F4_0"		; ƒtƒFƒCƒXE¬Œ÷ "F4_01"
FL_MYGL_F_SCC_N	DB	"1",0		;

FL_MYGL_F_SPP	DB	"F5_0"		; ƒtƒFƒCƒXEŽ¸”s "F5_01"
FL_MYGL_F_SPP_N	DB	"1",0		;

FL_FACE_MAX	DW	31		; ƒtƒFƒCƒX‚l‚`‚w
FL_FACE		DB	"F"		; ƒtƒFƒCƒX "F1_01.PT1"
FL_FACE_CUT	DB	"1_"		; ƒtƒFƒCƒXƒJƒbƒg”Ô†
FL_FACE_NUM	DB	"??",0		; ƒtƒFƒCƒX”Ô†

;*;FL_FACE	LABEL	WORD		; ƒtƒFƒCƒXƒwƒbƒh”Ô†
;*;	DW	OFFSET FACE_01		;**0
;*;
;*;	DW	OFFSET FACE_01		; ‰q•º
;*;	DW	OFFSET FACE_02		; ‹ß‰q‘à’·
;*;	DW	OFFSET FACE_03		; Ž˜]
;*;	DW	OFFSET FACE_04		; Ž˜]’·
;*;	DW	OFFSET FACE_05		; ‰¤”Ü—l
;*;	DW	OFFSET FACE_06		; ‰¤—l
;*;
;*;	DW	OFFSET FACE_07		; •Œ|Žt”Í‚P
;*;	DW	OFFSET FACE_08		; •Œ|Žt”Í‚Q
;*;	DW	OFFSET FACE_09		; •Œ|Žt”Í‚R
;*;	DW	OFFSET FACE_10		; Šw–âê‚Ìæ¶
;*;	DW	OFFSET FACE_11		; —ç–@‚Ìæ¶
;*;
;*;	DW	OFFSET FACE_12		; h‰®
;*;	DW	OFFSET FACE_13		; ƒƒCƒh
;*;	DW	OFFSET FACE_14		; ‘ã•M‰®
;*;	DW	OFFSET FACE_15		; Žðê‚P
;*;	DW	OFFSET FACE_16		; ˆãŽÒ
;*;	DW	OFFSET FACE_17		; Žël
;*;	DW	OFFSET FACE_18		; •Ší‰®
;*;	DW	OFFSET FACE_19		; h‰®‚Q
;*;	DW	OFFSET FACE_20		; –ØƒRƒŠ
;*;	DW	OFFSET FACE_21		; ‹³‰ï
;*;	DW	OFFSET FACE_22		; Žðê‚Q
;*;	DW	OFFSET FACE_23		; l‘«
;*;
;*;	DW	OFFSET FACE_24		; ŽålŒö‚P‚O|‚P‚Q¬Œ÷
;*;	DW	OFFSET FACE_25		; ŽålŒö‚P‚Q|‚P‚S¬Œ÷
;*;	DW	OFFSET FACE_26		; ŽålŒö‚P‚S|‚P‚U¬Œ÷
;*;	DW	OFFSET FACE_27		; ŽålŒö‚P‚U|‚P‚W¬Œ÷
;*;
;*;	DW	OFFSET FACE_28		; ŽålŒö‚P‚O|‚P‚QŽ¸”s
;*;	DW	OFFSET FACE_29		; ŽålŒö‚P‚Q|‚P‚SŽ¸”s
;*;	DW	OFFSET FACE_30		; ŽålŒö‚P‚S|‚P‚UŽ¸”s
;*;	DW	OFFSET FACE_31		; ŽålŒö‚P‚U|‚P‚WŽ¸”s
;*;
;*;FACE_01	DB	"F1_01",0	; ‰q•º
;*;FACE_02	DB	"F1_02",0	; ‹ß‰q‘à’·
;*;FACE_03	DB	"F1_03",0	; Ž˜]
;*;FACE_04	DB	"F1_04",0	; Ž˜]’·
;*;FACE_05	DB	"F1_05",0	; ‰¤”Ü—l
;*;FACE_06	DB	"F1_06",0	; ‰¤—l
;*;FACE_07	DB	"F2_01",0	; •Œ|Žt”Í‚P
;*;FACE_08	DB	"F2_02",0	; •Œ|Žt”Í‚Q
;*;FACE_09	DB	"F2_03",0	; •Œ|Žt”Í‚R
;*;FACE_10	DB	"F2_04",0	; Šw–âê‚Ìæ¶
;*;FACE_11	DB	"F2_05",0	; —ç–@‚Ìæ¶
;*;FACE_12	DB	"F3_01",0	; h‰®
;*;FACE_13	DB	"F3_02",0	; ƒƒCƒh
;*;FACE_14	DB	"F3_03",0	; ‘ã•M‰®
;*;FACE_15	DB	"F3_04",0	; Žðê‚P
;*;FACE_16	DB	"F3_05",0	; ˆãŽÒ
;*;FACE_17	DB	"F3_06",0	; Žël
;*;FACE_18	DB	"F3_07",0	; •Ší‰®
;*;FACE_19	DB	"F3_08",0	; h‰®‚Q
;*;FACE_20	DB	"F3_09",0	; –ØƒRƒŠ
;*;FACE_21	DB	"F3_10",0	; ‹³‰ï
;*;FACE_22	DB	"F3_11",0	; Žðê‚Q
;*;FACE_23	DB	"F3_12",0	; l‘«
;*;FACE_24	DB	"F4_01",0	; ŽålŒö‚P‚O|‚P‚Q¬Œ÷
;*;FACE_25	DB	"F4_02",0	; ŽålŒö‚P‚Q|‚P‚S¬Œ÷
;*;FACE_26	DB	"F4_03",0	; ŽålŒö‚P‚S|‚P‚U¬Œ÷
;*;FACE_27	DB	"F4_04",0	; ŽålŒö‚P‚U|‚P‚W¬Œ÷
;*;FACE_28	DB	"F5_01",0	; ŽålŒö‚P‚O|‚P‚QŽ¸”s
;*;FACE_29	DB	"F5_02",0	; ŽålŒö‚P‚Q|‚P‚SŽ¸”s
;*;FACE_30	DB	"F5_03",0	; ŽålŒö‚P‚S|‚P‚UŽ¸”s
;*;FACE_31	DB	"F5_04",0	; ŽålŒö‚P‚U|‚P‚WŽ¸”s


FL_MISS_DISK_F	DB	"P","2","3","4"	;Ì§²Ù––”ö(¬’·‚P,¬’·‚Q,¬’·‚R,¬’·‚S)
FL_MISSCON_MAX	DW	17+1		; ƒ~ƒXƒRƒ“‚l‚`‚w
FL_MISC		DB	"MC_"		; ƒ~ƒXƒRƒ“ "MC_nn_x.PT1"
FL_MISC_NUM	DB	"nn",0		; ƒ~ƒXƒRƒ“ ƒƒ“ƒo
;*;FL_MISC_AGE	DB	"P",0		; ƒ~ƒXƒRƒ“ 1,2,3,4(¬’·)

;*;FL_MISSCON	LABEL	WORD		; ƒ~ƒXƒRƒ“
;*;	DW	OFFSET MISC_01		;**0
;*;	DW	OFFSET MISC_MY			; 1:Ž©•ª‚Ì–º
;*;	DW	OFFSET MISC_01			; 2:
;*;	DW	OFFSET MISC_02			; 3:
;*;	DW	OFFSET MISC_03			; 4:
;*;	DW	OFFSET MISC_04			; .
;*;	DW	OFFSET MISC_05			; .
;*;	DW	OFFSET MISC_06			; .
;*;	DW	OFFSET MISC_07			; .
;*;	DW	OFFSET MISC_08
;*;	DW	OFFSET MISC_09
;*;	DW	OFFSET MISC_10
;*;	DW	OFFSET MISC_11
;*;	DW	OFFSET MISC_12
;*;	DW	OFFSET MISC_13
;*;	DW	OFFSET MISC_14
;*;	DW	OFFSET MISC_15
;*;	DW	OFFSET MISC_16
;*;	DW	OFFSET MISC_17			; 18:
;*;MISC_MY	DB	"MC_MY_x",0
;*;MISC_01	DB	"MC_01_x",0			; 'x'‚Í‘‚«Š·‚¦‚ç‚ê‚é
;*;MISC_02	DB	"MC_02_x",0
;*;MISC_03	DB	"MC_03_x",0
;*;MISC_04	DB	"MC_04_x",0
;*;MISC_05	DB	"MC_05_x",0
;*;MISC_06	DB	"MC_06_x",0
;*;MISC_07	DB	"MC_07_x",0
;*;MISC_08	DB	"MC_08_x",0
;*;MISC_09	DB	"MC_09_x",0
;*;MISC_10	DB	"MC_10_x",0
;*;MISC_11	DB	"MC_11_x",0
;*;MISC_12	DB	"MC_12_x",0
;*;MISC_13	DB	"MC_13_x",0
;*;MISC_14	DB	"MC_14_x",0
;*;MISC_15	DB	"MC_15_x",0
;*;MISC_16	DB	"MC_16_x",0
;*;MISC_17	DB	"MC_17_x",0


FL_BG_MAX	DW	6		; ‚a‚f‚l‚`‚w

FL_BG_LEFT	LABEL	WORD		; ‚a‚f
		DW	OFFSET FL_BG_LEFT1	; 0
		DW	OFFSET FL_BG_LEFT1
		DW	OFFSET FL_BG_LEFT2
		DW	OFFSET FL_BG_LEFT3
		DW	OFFSET FL_BG_LEFT4
FL_BG_RIGHT	LABEL	WORD
		DW	OFFSET FL_BG_RIGHT1	; 0
		DW	OFFSET FL_BG_RIGHT1
		DW	OFFSET FL_BG_RIGHT2
		DW	OFFSET FL_BG_RIGHT3
		DW	OFFSET FL_BG_RIGHT4

FL_BG_LEFT1	LABEL	WORD		; ‚a‚f
		DW	OFFSET BGF_1L1
		DW	OFFSET BGF_1L1
		DW	OFFSET BGF_2L1
		DW	OFFSET BGF_1L1	;3 kill
		DW	OFFSET BGF_1L1	;4 kill
		DW	OFFSET BGF_1L1	;5 kill
		DW	OFFSET BGF_6L
FL_BG_RIGHT1	LABEL	WORD
		DW	OFFSET BGF_1R1
		DW	OFFSET BGF_1R1
		DW	OFFSET BGF_2R1
		DW	OFFSET BGF_1R1	;3 kill
		DW	OFFSET BGF_1R1	;4 kill
		DW	OFFSET BGF_1R1	;5 kill
		DW	OFFSET BGF_6R
BGF_1L1	DB	"MBG1L",0		; ƒƒCƒ“‚a‚fEtE¶‘¤
BGF_1R1	DB	"MBG1R",0		; ƒƒCƒ“‚a‚fEtE‰E‘¤
BGF_2L1	DB	"MBG2L",0		; ƒƒCƒ“‚a‚fE•“¬‰ïE¶‘¤
BGF_2R1	DB	"MBG2R",0		; ƒƒCƒ“‚a‚fE•“¬‰ïE‰E‘¤
BGF_6L	DB	"MBG6L",0		; ƒƒCƒ“‚a‚fE•Œ|
BGF_6R	DB	"MBG6R",0		; ƒƒCƒ“‚a‚fE•Œ|

FL_BG_LEFT2	LABEL	WORD		; ‚a‚f
		DW	OFFSET BGF_1L2
		DW	OFFSET BGF_1L2
		DW	OFFSET BGF_2L2
		DW	OFFSET BGF_1L1	;3 kill
		DW	OFFSET BGF_1L1	;4 kill
		DW	OFFSET BGF_1L1	;5 kill
		DW	OFFSET BGF_6L
FL_BG_RIGHT2	LABEL	WORD
		DW	OFFSET BGF_1R2
		DW	OFFSET BGF_1R2
		DW	OFFSET BGF_2R2
		DW	OFFSET BGF_1R1	;3 kill
		DW	OFFSET BGF_1R1	;4 kill
		DW	OFFSET BGF_1R1	;5 kill
		DW	OFFSET BGF_6R
BGF_1L2	DB	"MBG1L_2",0		; ƒƒCƒ“‚a‚fEtE¶‘¤
BGF_1R2	DB	"MBG1R_2",0		; ƒƒCƒ“‚a‚fEtE‰E‘¤
BGF_2L2	DB	"MBG2L",0		; ƒƒCƒ“‚a‚fE•“¬‰ïE¶‘¤
BGF_2R2	DB	"MBG2R",0		; ƒƒCƒ“‚a‚fE•“¬‰ïE‰E‘¤

FL_BG_LEFT3	LABEL	WORD		; ‚a‚f
		DW	OFFSET BGF_1L3
		DW	OFFSET BGF_1L3
		DW	OFFSET BGF_2L3
		DW	OFFSET BGF_1L1	;3 kill
		DW	OFFSET BGF_1L1	;4 kill
		DW	OFFSET BGF_1L1	;5 kill
		DW	OFFSET BGF_6L
FL_BG_RIGHT3	LABEL	WORD
		DW	OFFSET BGF_1R3
		DW	OFFSET BGF_1R3
		DW	OFFSET BGF_2R3
		DW	OFFSET BGF_1R1	;3 kill
		DW	OFFSET BGF_1R1	;4 kill
		DW	OFFSET BGF_1R1	;5 kill
		DW	OFFSET BGF_6R
BGF_1L3	DB	"MBG1L_3",0		; ƒƒCƒ“‚a‚fEtE¶‘¤
BGF_1R3	DB	"MBG1R_3",0		; ƒƒCƒ“‚a‚fEtE‰E‘¤
BGF_2L3	DB	"MBG2L",0		; ƒƒCƒ“‚a‚fE•“¬‰ïE¶‘¤
BGF_2R3	DB	"MBG2R",0		; ƒƒCƒ“‚a‚fE•“¬‰ïE‰E‘¤

FL_BG_LEFT4	LABEL	WORD		; ‚a‚f
		DW	OFFSET BGF_1L4
		DW	OFFSET BGF_1L4
		DW	OFFSET BGF_2L4
		DW	OFFSET BGF_1L1	;3 kill
		DW	OFFSET BGF_1L1	;4 kill
		DW	OFFSET BGF_1L1	;5 kill
		DW	OFFSET BGF_6L
FL_BG_RIGHT4	LABEL	WORD
		DW	OFFSET BGF_1R4
		DW	OFFSET BGF_1R4
		DW	OFFSET BGF_2R4
		DW	OFFSET BGF_1R1	;3 kill
		DW	OFFSET BGF_1R1	;4 kill
		DW	OFFSET BGF_1R1	;5 kill
		DW	OFFSET BGF_6R
BGF_1L4	DB	"MBG1L_4",0		; ƒƒCƒ“‚a‚fEtE¶‘¤
BGF_1R4	DB	"MBG1R_4",0		; ƒƒCƒ“‚a‚fEtE‰E‘¤
BGF_2L4	DB	"MBG2L",0		; ƒƒCƒ“‚a‚fE•“¬‰ïE¶‘¤
BGF_2R4	DB	"MBG2R",0		; ƒƒCƒ“‚a‚fE•“¬‰ïE‰E‘¤

OCHI_VIEW_FL	DB	"L"		; ƒIƒ`ƒpƒ^[ƒ“ƒtƒ@ƒCƒ‹–¼ "L1_01.PT1"
OCHI_VIEW_FL_CT	DB	"?_"		; "?"  -> 1 ‚©‚ç 3
OCHI_VIEW_FL_NM DB	"??",0		; "??" -> 00 ‚©‚ç 30

FL_BACA_L	DB	"XC"		; ƒoƒJƒ“ƒX¶ "XC1-01.PT1"
FL_BACA_L_AGE	DB	"?-0"		; ƒoƒJƒ“ƒX¶1,2,3,4(¬’·)
FL_BACA_L_SEA	DB	"?",0		; ƒoƒJƒ“ƒX¶1,2,3,4(‹Gß)

FL_BACA_R	DB	"WC"		; ƒoƒJƒ“ƒX‰E
FL_BACA_R_AGE	DB	"?-0"		; ƒoƒJƒ“ƒX¶1,2,3,4(¬’·)
FL_BACA_R_SEA	DB	"?",0		; ƒoƒJƒ“ƒX¶1,2,3,4(‹Gß)

FL_PAT10SX	DB	"PAT10S"	; ŽûŠnÕ
FL_PAT10SX_NUM	DB	"?",0		; 

DATA	ENDS

INCLUDE	PICTUER.INC

	END
;
;	end of "PICTUER.ASM"
;
